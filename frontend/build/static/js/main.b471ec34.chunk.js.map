{"version":3,"sources":["images/screenshot_main.png","images/default_banner.png","images/default_profile.png","images/default_banner_profile.jpg","lib/styles.js","lib/api.js","lib/icons.js","components/elements/InputText.js","components/elements/Button.js","components/elements/UserForms.js","components/common/NavBar.js","components/common/Notification.js","components/common/Home.js","components/elements/InputArea.js","components/elements/ChatControl.js","components/elements/MessageBox.js","components/common/Room.js","components/map/Pin.js","components/map/Map.js","components/map/GeocoderInput.js","components/map/Geocoder.js","lib/helper.js","components/elements/ResultsItem.js","components/elements/ResultsList.js","components/common/CampaignIndex.js","components/elements/BannerImage.js","components/common/Show.js","components/common/CampaignInfo.js","components/elements/NoticeBoard.js","components/elements/RoomCard.js","components/common/CampaignChats.js","components/elements/Schedule.js","components/elements/FilterControls.js","components/elements/List.js","components/elements/UserCard.js","components/common/VolunteersPanel.js","components/common/CampaignShow.js","components/common/CampaignForm.js","lib/mapbox.js","components/elements/CampaignCard.js","components/common/UserDetails.js","components/common/Profile.js","lib/cloudinary.js","App.js","index.js"],"names":["module","exports","themes","dark","name","primary","shadow","background","text","fontWeight","letterSpacing","accent","panels","glass","focus","light","select","theme","control","styles","backgroundColor","borderRadius","borderColor","height","singleValue","color","left","transform","option","menu","textAlign","indicatorSeparator","width","withHeaders","headers","Authorization","localStorage","getItem","registerUser","formData","axios","post","loginUser","createCampaign","baseUrl","getSingleCampaign","campaignId","get","updateCampaign","put","updateVolunteers","getAllSkills","fill","viewBox","xmlns","fillRule","clipRule","d","size","Wrapper","styled","div","props","Input","input","tabbed","Label","Highlight","Error","InputField","label","value","type","error","returnValue","React","useState","setFocus","setTabbed","checkFocusVisible","event","key","onKeyUpCapture","onBlurCapture","onFocus","onBlur","onChange","spellCheck","button","form","visible","ChangeMode","UserForms","hideForm","app","useContext","AppContext","mode","setMode","errors","setErrors","first_name","last_name","username","email","phone","password","password_confirmation","profile_image","setFormData","useEffect","handleChange","target","handleSubmit","a","preventDefault","status","response","data","login","setNotification","message","detail","passConf","firstName","lastName","register","onSubmit","InputText","aria-label","Button","onClick","NavBarContainer","nav","Title","h1","Items","ul","Tooltip","position","NavBar","ThemeContext","location","useLocation","showForm","setShowForm","tooltipPosition","setTooltipPosition","tooltipLabel","setTooltipLabel","pathname","showTooltip","getBoundingClientRect","x","maxPositionX","window","innerWidth","itemPosition","Math","min","getAttribute","hideTooltip","navUser","to","onMouseEnter","onMouseLeave","icons","changeTheme","navGuest","user","show","Notification","notification","setShow","setTimeout","remain","Page","AppView","Main","main","Home","history","useHistory","className","push","src","require","alt","textarea","hideLabel","InputArea","submit","shiftActive","setShiftActive","hasFocus","setHasFocus","onKeyDown","onKeyUp","ToolBar","IconSpan","span","EmojiPicker","ChatControl","send","showEmoji","setShowEmoji","toggleEmoji","corner","role","onSelect","emoji","native","isSelf","MessageBox","prevMessage","linkMatch","consecutiveMessage","id","content","split","map","line","i","links","match","plain","filter","res","joined","concat","reverse","interpolated","getStart","startsWith","length","shift","pop","interpolateLinks","frag","j","href","address","rel","chatSocket","Header","Body","smoothScroll","ShowMembers","Modal","chatWindow","element","scrollToBottom","scrollTop","scrollHeight","Room","params","useParams","setName","members","setMembers","messages","setMessages","draft","setDraft","historyLoaded","setHistoryLoaded","setSmoothScroll","newMessage","setNewMessage","showMembers","setShowMembers","connectToSocket","wsScheme","protocol","domain","hostname","WebSocket","room","onmessage","e","JSON","parse","getChatHistory","roomId","console","log","goBack","close","ref","userID","style","bottom","stringify","trim","stopPropagation","member","Pin","state","Base","Point","Inner","number","Dot","componentDidMount","setState","hoverPin","dragPin","latitude","lngLat","longitude","this","clickPin","onDoubleClick","dblClickPin","zoom","Component","Map","pins","flyTo","setRef","viewport","setViewport","mapStyle","top","cursorStyle","accessToken","process","viewportChangeMethod","onViewportChange","doubleClickZoom","pin","GeocoderInput","inputProps","onChangeCapture","Item","Geocoder","flyToLocation","mapboxApiAccessToken","inputComponent","itemComponent","itemProps","onClickCapture","item","tabIndex","onSelected","initialInputValue","timeout","selectMenu","article","expanded","ResultsItem","listExpanded","showDetails","description","campaign_skills","signUp","targetName","isContainer","includes","code","actionKeyPressed","skill","join","section","isHidden","ListScroll","scroll","Toggle","withTheme","campaigns","resultShowingDetail","showDetail","setIsHidden","isActionKey","campaign","SearchFields","geocoderRef","CampaignIndex","setCampaigns","results","setResults","setLocation","tag","setTag","ne","lat","lng","sw","bounds","setBounds","setFlyTo","setResultShowingDetail","tagError","setTagError","getBounds","getMap","_ne","_sw","signUpToCampaign","volunteer_id","action","then","max","inRange","matchesQuery","toLowerCase","invalidTagQuery","test","tags","some","result","selectionStart","selectionEnd","place_name","_listeners","moveend","Banner","Mask","active","MaskImage","Profile","image","ProfileLabel","BannerImage","profile","onProfileClick","profileLabel","maskActive","imageLabelVisible","setImageLabelVisible","defaultSrc","Panel","h2","sticky","Action","Show","title","banner","imageLabel","onImageClick","children","stickyTitle","setStickyTitle","onScroll","options","isSearchable","click","CampaignInfo","campaignData","para","NoticeText","NoticeDelete","User","NoticeBoard","isAdmin","deleteNotice","campaign_notices","date","owner","time_stamp","Date","toDateString","toLocaleTimeString","RoomCard","CampaignChats","rooms","hideBorder","Grid","Slot","SlotReadOnly","Time","Days","Schedule","slots","schedule","handleClick","Array","from","slot","CheckBox","ButtonGroup","RadioGroup","useTheme","skills","selectSchedule","selectSkills","toggleStrict","toggleList","groupName","editGroupName","selectAll","createNewGroup","showChatCreate","skillsOptions","setSkillsOptions","aria-roledescription","htmlFor","defaultChecked","values","isMulti","checked","strict","List","items","itemElement","itemExpanded","setItemExpanded","isExpanded","isSelected","ProfilePic","img","Details","UserCard","updateList","denyActive","setDenyActive","_","user_shifts","showDefaultProfile","user_skills","ControlToggle","VolunteersPanel","updateData","filteredUsers","setFilteredUsers","memberList","setMemberList","listDisplay","setListDisplay","setSkills","setSchedule","selectedVolunteers","setSelectedVolunteers","setGroupName","view","setView","panel","setPanel","toggleUserList","listName","reduce","arr","prop","pend_volunteers","selectVolunteer","vol","userSkills","every","userShifts","handleResize","addEventListener","removeEventListener","val","CampaignShow","useRouteMatch","setCampaignData","setRooms","setIsAdmin","noticeInput","setNoticeInput","sections","setSections","getCampaign","message_rooms","coordinators","userIsAdmin","userSections","postNotice","newNotice","notices","noticeID","Number","noticeId","delete","about","chats","admin","zIndex","paddingLeft","paddingRight","Form","MapContain","CampaignForm","volunteer_count","start_date","campaignLocation","setCampaignLocation","isEdit","setIsEdit","formatDate","slice","loadData","toISOString","editFormData","obj","geo","features","updateControlledInput","banner_image","cloudinary","createUploadWidget","cloudName","uploadPreset","showUploadMoreButton","info","url","open","CampaignCard","EditProfile","UserDetails","editInfo","userData","editSkills","editSchedule","userBio","bio","NewCampaign","onSuccess","logout","setUserData","pendingUserData","setPendingUserData","userCampaigns","setUserCampaigns","setUserSkills","editMode","setEditMode","setSection","getProfile","profileId","cloudinaryWidget","newUserData","getSkills","toggleEditMode","str","array","index","newSchedule","prev","settings","createContext","App","setTheme","setUser","setItem","token","removeItem","methods","clear","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b471ec34.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/screenshot_main.32b5f2c0.png\";","module.exports = __webpack_public_path__ + \"static/media/default_banner.24aea187.png\";","module.exports = __webpack_public_path__ + \"static/media/default_profile.d5e6b69a.png\";","module.exports = __webpack_public_path__ + \"static/media/default_banner_profile.6102e870.jpg\";","const themes = {\n  dark: {\n    name: 'dark',\n    primary: '#ffff50',\n    shadow: '#72787e',\n    background: '#131d25',\n    text: '#ccc',\n    fontWeight: 300,\n    letterSpacing: '0.015rem',\n    accent: '#8695a3',\n    panels: '#0b1014',\n    glass: '#cccd',\n    focus: '#ffff50'\n  },\n  light: {\n    name: 'light',\n    primary: '#ffff50',\n    shadow: '#aeb4ba',\n    background: '#dde8f6',\n    text: '#333',\n    fontWeight: 400,\n    letterSpacing: 0,\n    accent: 'lightyellow',\n    panels: '#ffffff',\n    glass: '#fafafada',\n    focus: '#0160cc'\n  }\n}\n\nconst select = theme => ({\n  control: styles => ({\n    ...styles,\n    backgroundColor: theme.name === 'light' ? theme.panels : theme.background,\n    borderRadius: '2px',\n    borderColor: theme.shadow,\n    height: 'calc(2rem)'\n  }),\n  singleValue: styles => ({\n    ...styles,\n    color: theme.text,\n    fontWeight: theme.fontWeight,\n    letterSpacing: theme.letterSpacing,\n    left: '50%',\n    transform: 'translate(calc(-50% + 1rem), -50%)'\n  }),\n  option: styles => ({\n    ...styles,\n    '&:hover': {\n      backgroundColor: '#2884fb',\n      color: 'white'\n    }\n  }),\n  menu: styles => ({\n    ...styles,\n    backgroundColor: theme.background,\n    color: theme.text,\n    borderRadius: '2px',\n    textAlign: 'center',\n    fontWeight: theme.fontWeight\n  }),\n  indicatorSeparator: () => ({ width: 0 })\n})\n\nexport default { themes, select }","import axios from 'axios'\n\n// const baseUrl = process.env.NODE_ENV === 'development'\n//   ? 'http://localhost:3000/api'\n//   : '/api'\n\nconst baseUrl = '/api'\n\nconst baseUrlCampaigns = baseUrl + '/campaigns'\nconst baseUrlProfiles = baseUrl + '/profiles'\n\nconst withHeaders = () => {\n  return {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('token')}`\n    }\n  }\n}\n\nexport const checkToken = () => axios.get(`${baseUrl}/auth/login/`, withHeaders())\n\nexport const registerUser = formData => axios.post(`${baseUrl}/auth/register/`, formData)\n\nexport const loginUser = formData => axios.post(`${baseUrl}/auth/login/`, formData)\n\nexport const getSingleProfile = profileId => axios.get(`${baseUrlProfiles}/${profileId}/`)\n\nexport const updateProfile = (profileId, formData) => axios.put(`${baseUrlProfiles}/${profileId}/`, formData, withHeaders())\n\nexport const deleteProfile = profileId => axios.delete(`${baseUrlProfiles}/${profileId}/`, withHeaders())\n\nexport const updateProfileSkills = (profileId, formData) => axios.put(`${baseUrlProfiles}/${profileId}/skills/`, formData, withHeaders())\n\nexport const updateProfileShifts = (profileId, formData) => axios.put(`${baseUrlProfiles}/${profileId}/shifts/`, formData, withHeaders())\n\n\nexport const createCampaign = formData => axios.post(`${baseUrlCampaigns}/`, formData, withHeaders())\n\nexport const getAllCampaigns = () => axios.get(`${baseUrlCampaigns}/`)\n\nexport const getSingleCampaign = campaignId => axios.get(`${baseUrlCampaigns}/${campaignId}/`, withHeaders())\n\nexport const updateCampaign = (campaignId, formData) => axios.put(`${baseUrlCampaigns}/${campaignId}/`, formData, withHeaders())\n\nexport const deleteCampaign = campaignId => axios.delete(`${baseUrlCampaigns}/${campaignId}/`, withHeaders())\n\n// BODY NEEDS TO INCLUDE 'volunteer_id': id and 'action': 'confirm', 'add', or 'delete' to put request\nexport const updateVolunteers = (campaignId, formData) => axios.put(`${baseUrlCampaigns}/${campaignId}/volunteers/`, formData, withHeaders())\n\nexport const getAllSkills = () => axios.get(`${baseUrl}/skills/`)\n\n// Update campaign skill requires body of 'campaign_skills': array of skills\nexport const updateCampaignSkills = (campaignId, formData) => axios.put(`${baseUrlCampaigns}/${campaignId}/skills/`, formData, withHeaders())\n\nexport const addCampaignNotice = formData => axios.post(`${baseUrl}/notices/`, formData, withHeaders())\n\nexport const deleteCampaignNotice = noticeId => axios.delete(`${baseUrl}/notices/${noticeId}/`, withHeaders())\n\n\nexport const createRoom = formData => axios.post(`${baseUrl}/rooms/`, formData)\n\nexport const getSingleRoom = roomId => axios.get(`${baseUrl}/rooms/${roomId}/`, withHeaders())\n","import React from 'react'\n\nconst user = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4ZM6 8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8C18 11.3137 15.3137 14 12 14C8.68629 14 6 11.3137 6 8ZM8 18C6.34315 18 5 19.3431 5 21C5 21.5523 4.55228 22 4 22C3.44772 22 3 21.5523 3 21C3 18.2386 5.23858 16 8 16H16C18.7614 16 21 18.2386 21 21C21 21.5523 20.5523 22 20 22C19.4477 22 19 21.5523 19 21C19 19.3431 17.6569 18 16 18H8Z\"></path>\n    </svg>\n  )\n}\nconst sun = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 2C12.5523 2 13 2.44772 13 3V4C13 4.55228 12.5523 5 12 5C11.4477 5 11 4.55228 11 4V3C11 2.44772 11.4477 2 12 2ZM19.0711 4.92893C19.4616 5.31945 19.4616 5.95261 19.0711 6.34314L18.364 7.05025C17.9735 7.44077 17.3403 7.44077 16.9498 7.05025C16.5593 6.65972 16.5593 6.02656 16.9498 5.63603L17.6569 4.92893C18.0474 4.5384 18.6806 4.5384 19.0711 4.92893ZM4.92893 4.92893C5.31945 4.5384 5.95262 4.5384 6.34314 4.92893L7.05025 5.63603C7.44077 6.02656 7.44077 6.65972 7.05025 7.05025C6.65972 7.44077 6.02656 7.44077 5.63603 7.05025L4.92893 6.34314C4.5384 5.95262 4.5384 5.31945 4.92893 4.92893ZM12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8ZM6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12ZM2 12C2 11.4477 2.44772 11 3 11H4C4.55228 11 5 11.4477 5 12C5 12.5523 4.55228 13 4 13H3C2.44772 13 2 12.5523 2 12ZM19 12C19 11.4477 19.4477 11 20 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H20C19.4477 13 19 12.5523 19 12ZM5.63603 16.9497C6.02656 16.5592 6.65972 16.5592 7.05025 16.9497C7.44077 17.3403 7.44077 17.9734 7.05025 18.364L6.34314 19.0711C5.95262 19.4616 5.31945 19.4616 4.92893 19.0711C4.5384 18.6805 4.5384 18.0474 4.92893 17.6568L5.63603 16.9497ZM16.9498 18.364C16.5593 17.9734 16.5593 17.3403 16.9498 16.9497C17.3403 16.5592 17.9735 16.5592 18.364 16.9497L19.0711 17.6568C19.4616 18.0474 19.4616 18.6805 19.0711 19.0711C18.6806 19.4616 18.0474 19.4616 17.6569 19.0711L16.9498 18.364ZM12 19C12.5523 19 13 19.4477 13 20V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V20C11 19.4477 11.4477 19 12 19Z\"></path>\n    </svg>\n  )\n}\nconst moon = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.36077 3.29291C9.6659 3.59803 9.74089 4.06445 9.54678 4.44984C9.04068 5.4547 8.75521 6.59035 8.75521 7.79557C8.75521 11.9097 12.0903 15.2448 16.2044 15.2448C17.4097 15.2448 18.5453 14.9593 19.5502 14.4532C19.9356 14.2591 20.402 14.3341 20.7071 14.6392C21.0122 14.9444 21.0872 15.4108 20.8931 15.7962C19.3396 18.8806 16.1428 21 12.4492 21C7.23056 21 3 16.7695 3 11.5508C3 7.85719 5.11941 4.6604 8.20384 3.1069C8.58923 2.91279 9.05565 2.98778 9.36077 3.29291ZM6.8217 6.6696C5.68637 7.97742 5 9.68431 5 11.5508C5 15.6649 8.33513 19 12.4492 19C14.3157 19 16.0226 18.3136 17.3304 17.1783C16.9611 17.2222 16.5853 17.2448 16.2044 17.2448C10.9858 17.2448 6.75521 13.0142 6.75521 7.79557C6.75521 7.41472 6.77779 7.03896 6.8217 6.6696Z\"></path>\n    </svg>\n  )\n}\nconst search = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M10 4C6.68629 4 4 6.68629 4 10C4 13.3137 6.68629 16 10 16C13.3137 16 16 13.3137 16 10C16 6.68629 13.3137 4 10 4ZM2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 11.8487 17.3729 13.551 16.3199 14.9056L21.7071 20.2929C22.0976 20.6834 22.0976 21.3166 21.7071 21.7071C21.3166 22.0976 20.6834 22.0976 20.2929 21.7071L14.9056 16.3199C13.551 17.3729 11.8487 18 10 18C5.58172 18 2 14.4183 2 10Z\"></path>\n    </svg>\n  )\n}\nconst up = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289L18.7071 13.2929C19.0976 13.6834 19.0976 14.3166 18.7071 14.7071C18.3166 15.0976 17.6834 15.0976 17.2929 14.7071L12 9.41421L6.70711 14.7071C6.31658 15.0976 5.68342 15.0976 5.29289 14.7071C4.90237 14.3166 4.90237 13.6834 5.29289 13.2929L11.2929 7.29289Z\"></path>\n    </svg>\n  )\n}\nconst down = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5.29289 9.29289C5.68342 8.90237 6.31658 8.90237 6.70711 9.29289L12 14.5858L17.2929 9.29289C17.6834 8.90237 18.3166 8.90237 18.7071 9.29289C19.0976 9.68342 19.0976 10.3166 18.7071 10.7071L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L5.29289 10.7071C4.90237 10.3166 4.90237 9.68342 5.29289 9.29289Z\"></path>\n    </svg>\n  )\n}\nconst right = (color = '#232323') => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9.29289 18.7071C8.90237 18.3166 8.90237 17.6834 9.29289 17.2929L14.5858 12L9.29289 6.70711C8.90237 6.31658 8.90237 5.68342 9.29289 5.29289C9.68342 4.90237 10.3166 4.90237 10.7071 5.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L10.7071 18.7071C10.3166 19.0976 9.68342 19.0976 9.29289 18.7071Z\"></path>\n    </svg>\n  )\n}\nconst send = (color = '#232323', size = 24) => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height={size} width={size} xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 2C12.3788 2 12.725 2.214 12.8944 2.55279L21.8944 20.5528C22.067 20.8978 22.0256 21.3113 21.7882 21.6154C21.5508 21.9195 21.1597 22.0599 20.7831 21.9762L12 20.0244L3.21694 21.9762C2.84035 22.0599 2.44921 21.9195 2.2118 21.6154C1.97439 21.3113 1.93306 20.8978 2.10558 20.5528L11.1056 2.55279C11.275 2.214 11.6212 2 12 2ZM13 18.1978L19.166 19.568L13 7.23607V18.1978ZM11 7.23607V18.1978L4.83402 19.568L11 7.23607Z\"></path>\n    </svg>\n  )\n}\nconst edit = (color = '#232323', size = 24) => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height={size} width={size} xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16.2929 2.29289C16.6834 1.90237 17.3166 1.90237 17.7071 2.29289L21.7071 6.29289C22.0976 6.68342 22.0976 7.31658 21.7071 7.70711L8.70711 20.7071C8.51957 20.8946 8.26522 21 8 21H4C3.44772 21 3 20.5523 3 20V16C3 15.7348 3.10536 15.4804 3.29289 15.2929L13.2927 5.2931L16.2929 2.29289ZM14 7.41421L5 16.4142V19H7.58579L16.5858 10L14 7.41421ZM18 8.58579L15.4142 6L17 4.41421L19.5858 7L18 8.58579Z\"></path>\n    </svg>\n  )\n}\nconst home = (color = '#232323', size = 24) => {\n  return (\n    <svg fill=\"none\" viewBox=\"0 0 24 24\" height={size} width={size} xmlns=\"http://www.w3.org/2000/svg\">\n      <path fill={color} xmlns=\"http://www.w3.org/2000/svg\" d=\"M11.3356 2.25259C11.7145 1.9158 12.2855 1.9158 12.6644 2.25259L21.6644 10.2526C22.0772 10.6195 22.1143 11.2516 21.7474 11.6644C21.3805 12.0771 20.7484 12.1143 20.3356 11.7474L20 11.4491V19C20 20.1046 19.1046 21 18 21H6.00001C4.89544 21 4.00001 20.1046 4.00001 19V11.4491L3.66437 11.7474C3.25159 12.1143 2.61952 12.0771 2.2526 11.6644C1.88568 11.2516 1.92286 10.6195 2.33565 10.2526L11.3356 2.25259ZM6.00001 9.67129V19H9.00001V14C9.00001 13.4477 9.44773 13 10 13H14C14.5523 13 15 13.4477 15 14V19H18V9.67129L12 4.33795L6.00001 9.67129ZM13 19V15H11V19H13Z\"></path>\n    </svg>\n  )\n}\n\nexport default { user, sun, moon, search, up, down, right, send, edit, home }","import React from 'react'\nimport styled from 'styled-components'\n\n// import { AppContext } from '../../App'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: ${props => props.width || '100%' };\n  margin: auto;\n`\n\nconst Input = styled.input`\n  background-color: ${props => props.theme.panels};\n  color: ${props => props.theme.text};\n  border-radius: 2px;\n  height: 3.1rem;\n  width: 100%;\n  font-weight: ${props => props.theme.fontWeight};\n  border: 1px solid ${props => props.theme.shadow};\n  padding: calc(12px + 0.7rem) 10px 5px;\n  &:focus {\n    outline: ${props => props.tabbed ? '2px solid ' + props.theme.panels : 'none'};\n    border-color: ${props => props.tabbed ? props.theme.focus : props.theme.shadow};\n  }\n  ::selection {\n    background-color: ${props => props.theme.primary};\n    color: #444;\n  }\n`\n  \nconst Label = styled.div`\n  position: absolute;\n  top: ${props => props.focus ? '6px' : '0.8rem'};\n  left: 11px;\n  color: ${props => props.theme.text};\n  font-size: ${props => props.focus ? '0.7rem' : '1rem'};\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n  pointer-events: none;\n`\n\nconst Highlight = styled.div`\n  height: ${props => props.focus ? '3px' : 0};\n  width: calc(100% - 2px);\n  background-color: ${props => props.tabbed ? props.theme.focus : props.theme.primary};\n  position: absolute;\n  bottom: 1px;\n  left: 1px;\n  border-bottom-left-radius: ${props => props.focus ? 0 : '2px'};\n  border-bottom-right-radius: ${props => props.focus ? 0 : '2px'};\n  transition: all 0;\n`\n\nconst Error = styled.div`\n  position: absolute;\n  top: 6px;\n  right: 11px;\n\n  color: ${props => props.theme.name === 'light' ? '#c00000' : 'palevioletred'};\n  font-size: 0.7rem;\n\n  pointer-events: none;\n  text-transform: lowercase;\n`\n\nconst InputField = ({ label, width, value, name, type, error, returnValue }) => {\n\n  const [focus, setFocus] = React.useState(false)\n  const [tabbed, setTabbed] = React.useState(false)\n\n  const checkFocusVisible = event => {\n    // Prevent setting value when typing input\n    if (tabbed) return\n    setTabbed(event.key === 'Tab')\n  }\n\n  return (\n    <Wrapper\n      width={width}\n      onKeyUpCapture={checkFocusVisible}\n      onBlurCapture={() => setTabbed(false)}\n      onFocus={() => setFocus(true)}\n      onBlur={() => setFocus(false)}\n    >\n      <Input\n        focus={focus || value}\n        tabbed={tabbed}\n        type={type}\n        name={name}\n        value={value}\n        onChange={returnValue}\n        onFocus={checkFocusVisible}\n        spellCheck=\"false\"\n      />\n      <Label focus={focus || value}>{label}</Label>\n      <Error>{error}</Error>\n      <Highlight focus={focus} tabbed={tabbed}/>\n    </Wrapper>\n  )\n}\n\nexport default InputField","import styled from 'styled-components'\n\nexport default styled.button`\n  /* display: block; */\n  background-color: ${props => props.primary ? props.theme.primary : props.theme.panels};\n  color: ${props => props.primary ? '#333' : props.theme.text};\n  border-radius: 2px;\n  width: ${props => props.width};\n  margin: auto;\n  height: 3rem;\n  border: 2px solid #fef15e;\n  transition: background-color 0.15s;\n  font-family: 'Montserrat Alternates', sans-serif;\n\n  &:hover {\n    background-color: ${props => props.theme.primary};\n    color: #333;\n  }\n  &:focus {\n    outline: none;\n  }\n  &:focus-visible {\n    outline: 2px solid blue;\n  }\n`","import React, { useState, useContext, useEffect } from 'react'\nimport styled from 'styled-components'\n\nimport { AppContext } from '../../App'\nimport { loginUser, registerUser } from '../../lib/api'\n\nimport InputText from './InputText'\nimport Button from './Button'\n\nconst Wrapper = styled.form`\n  position: absolute;\n  top: ${props => props.visible ? 'calc(3rem + 5px)' : '-12rem'};\n  right: 5px;\n  width: 20rem;\n  max-width: calc(100vw - 10px);\n  padding: 5px;\n  z-index: 8;\n  border-radius: 3px;\n  \n  background-color: #fffa;\n  backdrop-filter: blur(4px);\n  transition: top 0.4s;\n\n  > * {\n    margin-bottom: 5px;\n  }\n\n  @media only screen and (max-width: 425px) {\n    width: calc(100vw - 10px);\n  }\n`\n\nconst ChangeMode = styled.button`\n  display: block;\n  font-size: 0.7rem;\n  margin: auto;\n  border: none;\n  font-family: 'Open Sans', sans-serif;\n  color: ${props => props.theme.text};\n  background-color: transparent;\n`\n\nconst UserForms = ({ visible, hideForm }) => {\n\n  const app = useContext(AppContext)\n\n  const [mode, setMode] = useState('login')\n  const [errors, setErrors] = useState({})\n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    username: '',\n    email: '',\n    phone: '',\n    password: '',\n    password_confirmation: '',\n    // TODO default should be in the backend\n    profile_image: 'http://res.cloudinary.com/dmhj1vjdf/image/upload/v1603961535/volunteers/u4zukx1dlvly1pu2zz81.png'\n  })\n\n  useEffect(() => setMode('login'), [visible])\n  \n  const switchMode = event => {\n    event.preventDefault()\n    setMode(mode === 'login' ? 'register' : 'login')\n    setErrors({})\n  }\n\n  const handleChange = event => {\n    setFormData({\n      ...formData,\n      [event.target.name]: event.target.value\n    })\n    setErrors({\n      ...errors,\n      [event.target.name]: ''\n    })\n  }\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n\n    if (mode === 'register') {\n      try {\n        const response = await registerUser(formData)\n        if (response.status !== 201) return\n      } catch (err) {\n        setErrors(err.response.data)\n        return\n      }\n    }\n\n    try {\n      const { data, status } = await loginUser(formData)\n      if (status === 200) {\n        hideForm()\n        app.login(data)\n      }\n    } catch (err) {\n      app.setNotification({ message: err.response.data.detail })\n    }\n  }\n\n  const {\n    username,\n    email,\n    password,\n    password_confirmation: passConf,\n    first_name: firstName,\n    last_name: lastName,\n    phone\n  } = formData\n  const register = mode === 'register'\n\n  return (\n    <Wrapper visible={visible} onSubmit={handleSubmit}>\n      {register && <>\n        <InputText aria-label=\"Username\" label=\"username\" name=\"username\" value={username} returnValue={handleChange} error={errors.username} />\n        <InputText aria-label=\"First Name\" label=\"first name\" name=\"first_name\" value={firstName} returnValue={handleChange} error={errors.first_name} />\n        <InputText aria-label=\"Last Name\" label=\"last name\" name=\"last_name\" value={lastName} returnValue={handleChange} error={errors.last_name} />\n      </>}\n      <InputText aria-label=\"Email\" label=\"email\" name=\"email\" value={email} returnValue={handleChange} error={errors.email} />\n      {/* TODO Remove phone number from model? */}\n      {register &&\n        <InputText aria-label=\"Phone Number\" label=\"phone\" name=\"phone\" value={phone} type=\"number\" returnValue={handleChange} error={errors.phone} />}\n      <InputText aria-label=\"Password\" label=\"password\" name=\"password\" value={password} type=\"password\" returnValue={handleChange} error={errors.password} />\n      {register &&\n        <InputText aria-label=\"Password Confirmation\" label=\"confirm password\" name=\"password_confirmation\" value={passConf} type=\"password\" returnValue={handleChange} error={errors.password_confirmation} />}\n      <Button primary={true} width={'100%'}>{mode}</Button>\n      <ChangeMode onClick={switchMode}>{register ? ' I have an account' : 'new user'}</ChangeMode>\n    </Wrapper>\n  )\n}\n\nexport default UserForms","import React, { useState, useContext } from 'react'\nimport { useLocation, Link } from 'react-router-dom'\nimport styled, { ThemeContext } from 'styled-components'\n\nimport { AppContext } from '../../App'\n\nimport icons from '../../lib/icons'\nimport UserForms from '../elements/UserForms'\n\nconst NavBarContainer = styled.nav`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 3rem;\n  background-color: ${props => props.theme.primary};\n  position: relative;\n  z-index: 10;\n`\n\nconst Title = styled.h1`\n  padding-left: 30px;\n  margin: 0;\n  font-family: 'Montserrat Alternates', sans-serif;\n  font-size: 1.1rem;\n  pointer-events: none;\n`\n\nconst Items = styled.ul`\n\n  display: flex;\n  position: absolute;\n  right: 20px;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 0;\n\n  button {\n    background-color: transparent;\n    border: none;\n\n    svg {\n      position: relative;\n      top: -1px;\n    }\n  }\n\n  button, a {\n    width: 2.5rem;\n    min-width: fit-content;\n    height: 3rem;\n    line-height: 3rem;\n    text-align: center;\n\n    &:focus { outline: none; }\n    &:focus-visible {\n      background-color: #333;\n      color: white;\n\n      path {\n        fill: white;\n      }\n    }\n  }\n`\n\nconst Tooltip = styled.label`\n\n  position: absolute;\n  bottom: calc(-2rem - 13px);\n  left: ${props => props.position + 'px'};\n\n  transition: left 0.2s;\n\n  transform: translateX(-50%);\n  width: 100px;\n  height: 2rem;\n  line-height: 2rem;\n  text-align: center;\n  background-color: ${props => props.theme.panels}cc;\n  border-radius: 2px;\n  color: ${props => props.theme.text};\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n`\n\nconst NavBar = () => {\n\n  const app = useContext(AppContext)\n  const theme = useContext(ThemeContext)\n\n  const location = useLocation()\n\n  const [showForm, setShowForm] = useState(false)\n  const [tooltipPosition, setTooltipPosition] = useState(-1)\n  const [tooltipLabel, setTooltipLabel] = useState('')\n\n  if (location.pathname === '/') return null\n\n  const showTooltip = event => {\n    const { x, width } = event.target.getBoundingClientRect()\n\n    const maxPositionX = window.innerWidth - 54\n    const itemPosition = x + (width / 2)\n\n    setTooltipPosition(Math.min(itemPosition, maxPositionX))\n    setTooltipLabel(event.target.getAttribute('label'))\n  }\n\n  const hideTooltip = () => setTooltipPosition(-1)\n\n  const navUser = <>\n\n    <Link\n      label=\"profile\"\n      to='/profile'\n      onClick={() => setTooltipPosition(-1)}\n      onMouseEnter={showTooltip}\n      onFocus={showTooltip}\n      onMouseLeave={hideTooltip}\n      onBlur={hideTooltip}\n    >\n      {icons.user()}\n    </Link>\n    <Link\n      label=\"campaigns\"\n      to='/campaigns'\n      onClick={() => setTooltipPosition(-1)}\n      onMouseEnter={showTooltip}\n      onFocus={showTooltip}\n      onMouseLeave={hideTooltip}\n      onBlur={hideTooltip}\n    >\n      {icons.home()}\n    </Link>\n    <button\n      label={theme.name === 'light' ? 'dark mode' : 'light mode'}\n      onClick={() => {\n        app.changeTheme()\n        setTooltipPosition(-1)\n      }}\n      onMouseEnter={showTooltip}\n      onFocus={showTooltip}\n      onMouseLeave={hideTooltip}\n      onBlur={hideTooltip}\n    >\n      {theme.name === 'light' ? icons.sun() : icons.moon()}\n    </button>\n  </>\n\n  const navGuest = <>\n    <button onClick={() => setShowForm(!showForm)}>\n      login\n    </button>\n  </>\n\n  return (\n    <>\n      <UserForms visible={showForm && !app.user} hideForm={() => setShowForm(false)} />\n      <NavBarContainer>\n        <Title>VolunteerHub</Title>\n        <Items>\n          {app.user ? navUser : navGuest }\n        </Items>\n        {tooltipPosition > -1 && tooltipLabel &&\n          <Tooltip position={tooltipPosition}>\n            {tooltipLabel}\n          </Tooltip>\n        }\n      </NavBarContainer>\n    </>\n  )\n}\n\nexport default NavBar","import React from 'react'\nimport { useLocation } from 'react-router-dom'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: absolute;\n  top: 3rem;\n  height: fit-content;\n  min-height: 3rem;\n  width: 100%;\n  padding: 5px;\n  z-index: 9;\n  border-bottom: 1px solid ${props => props.theme.shadow};\n\n  text-align: center;\n  font-size: 0.85rem;\n  line-height: 2rem;\n\n  color: ${props => props.theme.text};\n  background-color: ${props => props.theme.background};\n  opacity: 0.9;\n  backdrop-filter: blur(4px);\n\n  transform: translateY(${props => props.show ? 0 : 'calc(-100% - 1px)'});\n  transition: transform 1s ${props => props.show ? 'ease-out' : 'ease-in'};\n`\n\nconst Notification = ({ notification }) => {\n\n  const location = useLocation()\n\n  const [show, setShow] = React.useState(false)\n\n  React.useEffect(() => {\n    if (notification.message) setTimeout(() => setShow(true), 1000)\n    if (!notification.remain) setTimeout(() => setShow(false), 4000)\n  }, [notification])\n\n  if (location.pathname === '/') return null\n\n  return <Wrapper show={show}>\n    {notification.message}\n    {notification.remain && <div>ok</div>}\n  </Wrapper>\n}\n\nexport default Notification","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport Button from '../elements/Button'\n\nconst Page = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100vw;\n  height: 100vh;\n  /* background:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMzUpICI+PHJlY3QgaWQ9InBhdHRlcm4tYmFja2dyb3VuZCIgd2lkdGg9IjQwMCUiIGhlaWdodD0iNDAwJSIgZmlsbD0icmdiYSgxNjMsIDE5MSwgMjUwLDEpIj48L3JlY3Q+IDxwYXRoIGZpbGw9InJnYmEoMjQwLCAyNTUsIDI0NCwxKSIgZD0iTSAtMTAgMzAgaCA2MCB2MiBoLTYweiBNLTEwIC0xMCBoNjAgdjIgaC02MCI+PC9wYXRoPjxwYXRoIGZpbGw9InJnYmEoMjUxLCAyMTEsIDE0MSwxKSIgZD0ibSAtMTAgMjkgaCA2MCB2MSBoLTYweiBNLTEwIC0xMSBoNjAgdjEgaC02MHoiPjwvcGF0aD48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=\"); */\n  background:url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgNDAsNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMzUpICI+PHJlY3QgaWQ9InBhdHRlcm4tYmFja2dyb3VuZCIgd2lkdGg9IjQwMCUiIGhlaWdodD0iNDAwJSIgZmlsbD0icmdiYSgxOTUsIDIxOCwgMjU0LDEpIj48L3JlY3Q+IDxwYXRoIGZpbGw9InJnYmEoMjQwLCAyNTUsIDI0NCwxKSIgZD0iTSAtMTAgMzAgaCA2MCB2MiBoLTYweiBNLTEwIC0xMCBoNjAgdjIgaC02MCI+PC9wYXRoPjxwYXRoIGZpbGw9InJnYmEoMjUxLCAyMTEsIDE0MSwxKSIgZD0ibSAtMTAgMjkgaCA2MCB2MSBoLTYweiBNLTEwIC0xMSBoNjAgdjEgaC02MHoiPjwvcGF0aD48L3BhdHRlcm4+ICA8L2RlZnM+IDxyZWN0IGZpbGw9InVybCgjcGF0dGVybikiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvcmVjdD48L3N2Zz4=\");\n`\n\nconst Wrapper = styled.div`\n  display: flex;\n  width: fit-content;\n  margin: 5rem auto 2rem;\n\n  > div, main {\n    margin: 0 15px;\n    box-shadow: 2px 2px 5px #aaa;\n  }\n`\n\nconst AppView = styled.div`\n  width: 300px;\n  height: fit-content;\n  border-radius: 10px;\n  \n\n  img {\n    width: 300px;\n    height: auto;\n    border-radius: 10px;\n  }\n\n  @media only screen and (max-width: 890px) {\n    display: none;\n  }\n\n`\n\nconst Main = styled.main`\n\n  position: relative;\n\n  width: 370px;\n  height: 570px;\n\n  padding: 2rem 20px 0;\n\n\n  border-radius: 10px;\n\n  background-color: #fafafd;\n\n  h1 {\n    color: #333;\n    font-family: 'Montserrat Alternates', sans-serif;\n    text-align: center;\n    font-weight: 100;\n  }\n\n  .breaker {\n    width: calc(100% - 20px);\n    height: 5px;\n    background-color: yellow;\n    margin: 0 auto 10px;\n    border-radius: 4px;\n  }\n\n  h2 {\n    font-size: 1rem;\n    font-weight: 100;\n    text-align: center;\n    margin-bottom: 2rem;\n  }\n\n  p {\n    font-family: 'Open Sans', sans-serif;\n    font-weight: 200;\n    font-size: 0.95rem;\n    text-align: justify;\n  }\n\n  button {\n    position: absolute;\n    height: 4rem;\n    bottom: 1rem;\n    margin: -16px -20px;\n    border-bottom-left-radius: 10px;\n    border-bottom-right-radius: 10px;\n    font-family: 'Open Sans', sans-serif;\n  }\n\n\n`\n\n\nconst Home = () => {\n\n  const history = useHistory()\n\n  const openApp = () => history.push('/campaigns')\n\n  return (<Page>\n    <Wrapper>\n\n      <Main>\n        <h1>VolunteerHub</h1>\n        <div className=\"breaker\"></div>\n        <h2>use your skills to help out</h2>\n\n        <p>\n          Browse the best volunteer opportunities near you and match with those looking for someone with your skills. Your community needs your help, what are you waiting for?\n        </p>\n        <p>\n          Do you know of a local cause in need of a few helping hands? Get a qualified team together and you can start making a difference today by starting and managing a campaign.\n        </p>\n        \n        <p>\n          Make the most of your communities time by using VolunteerHub's tools to\n          match skills, organise schedules, and coordinate your team using community noticeboards and chat rooms.\n        </p>\n\n        <Button primary width=\"100%\" onClick={openApp}>&nbsp;&nbsp;&nbsp; Find a Campaign &nbsp;&nbsp;&nbsp; </Button>\n\n      </Main>\n    \n      <AppView>\n        <img src={require('../../images/screenshot_main.png')} alt=\"VolunteerHub App Homepage\"/>\n      </AppView>\n\n    </Wrapper>\n  </Page>)\n}\n\n\n\n\nexport default Home","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: ${props => props.width || '100%'};\n  margin: auto;\n`\n\nconst Input = styled.textarea`\n  background-color: ${props => props.theme.panels};\n  color: ${props => props.theme.text};\n  border-radius: 2px;\n  /* height: 4rem; */\n  height: ${props => props.height ? props.height : '4rem'};\n  width: 100%;\n  font-size: 0.85rem;\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n  border: 1px solid ${props => props.theme.shadow};\n  padding: 8px 10px;\n  padding-top: ${props => props.hideLabel ? '8px' : 'calc(12px + 0.7rem)'};\n  margin-bottom: -7px;\n  resize: none;\n  &:focus {\n    outline: none;\n  }\n  ::selection {\n    background-color: ${props => props.theme.primary};\n    color: #444;\n  }\n  `\n\nconst Label = styled.div`\nposition: absolute;\ntop: ${props => props.focus ? '6px' : '0.8rem'};\ndisplay: ${props => props.focus && props.hideLabel ? 'none' : 'block'};\nleft: 11px;\ncolor: ${props => props.theme.text};\nfont-size: ${props => props.focus ? '0.7rem' : '1rem'};\nfont-weight: ${props => props.theme.fontWeight};\nletter-spacing: ${props => props.theme.letterSpacing};\npointer-events: none;\n`\n\nconst Highlight = styled.div`\n  height: ${props => props.focus ? '3px' : 0};\n  width: calc(100% - 2px);\n  background-color: ${props => props.theme.primary};\n  position: absolute;\n  bottom: 0;\n  left: 1px;\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  transition: all 0;\n`\n\n/** my documentation for this class */\n// Add docstring to say that returnValue and name must always be provided\nconst InputArea = ({ name, value, width, returnValue, label, height, submit }) => {\n\n  const [shiftActive, setShiftActive] = React.useState(0)\n  const [hasFocus, setHasFocus] = React.useState(false)\n\n  const keyDown = event => {\n    if (event.key === 'Shift') setShiftActive(shiftActive + 1)\n    if (event.key === 'Enter' && !shiftActive && submit) submit(event)\n  }\n\n  const keyUp = event => {\n    if (event.key === 'Shift') setShiftActive(shiftActive - 1)\n  }\n\n  return (\n    <Wrapper\n      width={width}\n      onFocus={() => setHasFocus(true)}\n      onBlur={() => setHasFocus(false)}\n    >\n      <Input\n        name={name}\n        value={value}\n        onChange={returnValue}\n        onKeyDown={keyDown}\n        onKeyUp={keyUp}\n        height={height}\n        hideLabel={!label}\n      />\n      <Label focus={hasFocus || value} hideLabel={!label}>{label}</Label>\n      <Highlight focus={hasFocus} />\n    </Wrapper>\n  )\n\n}\n\nexport default InputArea","import React from 'react'\nimport styled from 'styled-components'\nimport { Picker } from 'emoji-mart'\nimport icons from '../../lib/icons'\n\nimport InputArea from './InputArea'\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: calc(4rem + 40px);\n  background-color: ${props => props.theme.background};\n`\n\nconst ToolBar = styled.div`\n  background-color: ${props => props.theme.shadow};\n  height: 30px;\n  border-radius: 0 0 2px 2px;\n  padding: 1px;\n`\n\nconst Button = styled.button`\n  background-color: transparent;\n  border: none;\n  float: right;\n  &:hover {\n    background-color: #ddd;\n  }\n`\n\nconst IconSpan = styled.span`\n  display: inline-block;\n  transform: rotateZ(90deg);\n`\n\nconst EmojiPicker = styled.div`\n  display: ${props => props.show ? 'block' : 'none'};\n`\n\nconst ChatControl = ({ send, handleChange, value, label }) => {\n\n  const [showEmoji, setShowEmoji] = React.useState(false)\n\n  const toggleEmoji = () => setShowEmoji(!showEmoji)\n\n  const pickEmoji = emoji => {\n    handleChange({ target: { value: value + emoji.native } })\n  }\n\n  return (<Wrapper>\n    <InputArea\n      width=\"100%\"\n      name=\"draft\"\n      value={value}\n      returnValue={handleChange}\n      submit={send}\n      label={label}\n    />\n    <ToolBar>\n      <Button position=\"right\" corner onClick={send}>\n        <IconSpan>{icons.send('#232323', 16)}</IconSpan>\n      </Button>\n      <Button position=\"right\" onClick={toggleEmoji}>\n        <span role=\"img\" aria-label=\"emoji menu\"></span>\n      </Button>\n      <EmojiPicker show={showEmoji} onBlur={toggleEmoji}>\n        <Picker onSelect={pickEmoji} />\n      </EmojiPicker>\n    </ToolBar>\n  </Wrapper>)\n}\n\nexport default ChatControl","import React from 'react'\nimport styled from 'styled-components'\n\n// class MessageBox extends React.Component {\n  \nconst  Wrapper = styled.div`\n  position: relative;\n  transform: ${props => props.isSelf ? 'scaleX(-1)' : 'none'};\n\n  .box {\n    width: fit-content;\n    min-width: 200px;\n    margin: 10px 10px 10px 25px;\n    padding: 15px;\n    padding-top: ${props => props.isSelf ? '15px' : '10px'};\n    background-color: ${props => props.isSelf ? props.theme.accent : props.theme.panels};\n    border-radius: 2px;\n    border-top-left-radius: 0;\n    z-index: 2;\n  }\n\n  .shadow {\n    z-index: 1;\n  }\n\n  > :nth-child(1) {\n    position: relative;\n  }\n  > :nth-child(2) {\n    position: absolute;\n    top: -9px;\n    left: -1px;\n    background-color: ${props => props.theme.name === 'light' ? '#bbb' : '#333'};\n    filter: blur(1px);\n  }\n\n  .accent {\n    position: absolute;\n    top: 0;\n    left: -14px;\n    width: 15px;\n    height: 15px;\n    background-color: inherit;\n    clip-path: polygon(100% 0, 0 0, 100% 100%);\n  }\n\n  a {\n    color: ${props => props.isSelf && props.theme.name === 'dark' ? 'rebeccapurple' : 'palevioletred'};\n    font-weight: 600;\n    letter-spacing: 0;\n  }\n\n  p {\n    color: ${props => props.isSelf ? '#333' : props.theme.text};\n    font-size: 0.85rem;\n    font-weight: ${props => props.theme.fontWeight};\n    letter-spacing: ${props => props.theme.letterSpacing};\n    line-height: 1.2rem;\n    margin: 0;\n    transform: ${props => props.isSelf ? 'scaleX(-1)' : 'none'};\n  }\n\n  .name {\n    font-size: 0.7rem;\n    font-weight: 600;\n    color: palevioletred;\n    margin-bottom: 3px;\n  }\n`\n\nconst MessageBox = ({ data, isSelf, prevMessage }) => {\n\n  const linkMatch = /(http(s)?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/g\n\n  const interpolateLinks = line => {\n    // Get two arrays for plaintext and links\n    const links = line.match(linkMatch)\n    const plain = line.split(linkMatch).filter(res => res)\n    \n    const joined = links ? plain.concat(links.reverse()) : plain\n    const interpolated = []\n    // Determine first element to decide interpolation pattern\n    const startsPlain = line.startsWith(plain[0])\n    let getStart = startsPlain\n    while (joined.length > 0) {\n      if (getStart) interpolated.push(joined.shift())\n      else interpolated.push(joined.pop())\n      getStart = !getStart\n    }\n    return interpolated\n  }\n\n  const getHref = address => (\n    address.startsWith('http') ? address : `http://${address}`\n  )\n  \n  const consecutiveMessage = prevMessage\n    ? prevMessage.user.id === data.user.id : false\n  \n  const content = <>\n    <div className=\"accent\" />\n\n    {!isSelf && !consecutiveMessage && <p className=\"name\">{data.user.username}</p>}\n\n    {data.text.split('\\n').map((line, i) => (\n\n      <p key={i}>\n        {interpolateLinks(line).map((frag, j) => (\n          frag.match(linkMatch)\n            ? <a key={j} href={getHref(frag)} rel=\"noopener noreferrer\" target=\"_blank\">{frag}</a>\n            : frag\n        ))}\n      </p>\n      \n    ))}\n  </>\n\n  return (\n    <Wrapper isSelf={isSelf}>\n      <div className=\"box\">\n        {content}\n      </div>\n      <div className=\"box shadow\">\n        {content}\n      </div>\n    </Wrapper>\n  )\n\n}\n\nexport default MessageBox","import React, { useContext, useEffect, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport styled from 'styled-components'\nimport 'emoji-mart/css/emoji-mart.css'\n\nimport { getSingleRoom } from '../../lib/api'\n\nimport { AppContext } from '../../App'\n\nimport ChatControl from '../elements/ChatControl'\nimport MessageBox from '../elements/MessageBox'\n\nconst Wrapper = styled.div`\n  background-color: ${props => props.theme.background};\n  height: calc(100vh - 3rem);\n  padding: 5px;\n`\n\nconst Header = styled.div`\n  position: relative;\n  width: 100%;\n  padding-left: 20px;\n  line-height: 3rem;\n  background-color: ${props => props.theme.primary};\n  border-radius: 2px;\n  color: #333;\n`\n\nconst Body = styled.div`\n  position: relative;\n  top: 0px;\n  /* background-color: ${props => props.theme.background}; */\n  width: 100%;\n  height: calc(100% - 7rem - 30px);\n  overflow-y: scroll;\n  scroll-behavior: ${props => props.smoothScroll ? 'smooth' : 'auto'};\n`\n\nconst ShowMembers = styled.button`\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  border-radius: 3px;\n  border: 1px solid #222;\n  background-color: ${props => props.theme.primary};\n  font-size: 0.85rem;\n  padding: 0 10px;\n  height: calc(3rem - 10px);\n  line-height: 2rem;\n\n  &:focus {\n    outline: none;\n  }\n  &:focus-visible {\n    right: 3px;\n    border: 3px solid blue;\n  }\n`\n\nconst Modal = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 3;\n  background-color: #333a;\n\n  opacity: ${props => props.show ? 1 : 0};\n  pointer-events: ${props => props.show ? 'all' : 'none'};\n\n\n  transition: opacity 0.2s;\n\n  .panel {\n    width: 250px;\n    height: 300px;\n    border-radius: 4px;\n    background-color: ${props => props.theme.panels};\n    overflow-y: scroll;\n  }\n\n  .member-card {\n    text-align: center;\n    line-height: 2rem;\n    background-color: ${props => props.theme.shadow};\n    border-radius: 4px;\n    margin: 5px;\n    margin-right: 2px;\n  }\n`\n\nlet chatSocket\nconst chatWindow = {\n  element: null,\n  scrollToBottom() {\n    setTimeout(() => this.element.scrollTop = this.element.scrollHeight, 1)\n  }\n}\n\nconst Room = () => {\n\n  const app = useContext(AppContext)\n\n  const history = useHistory()\n  const params = useParams()\n\n  const [name, setName] = useState('')\n  const [members, setMembers] = useState([])\n  const [messages, setMessages] = useState([])\n  const [draft, setDraft] = useState('')\n  const [historyLoaded, setHistoryLoaded] = useState(false)\n  const [smoothScroll, setSmoothScroll] = useState(false)\n  \n  const [newMessage, setNewMessage] = useState()\n  const [showMembers, setShowMembers] = useState(false)\n\n  useEffect(() => {\n    if (newMessage) {\n      setMessages(messages.concat(newMessage))\n      setNewMessage(null)\n    }\n  }, [newMessage])\n\n  const connectToSocket = () => {\n    const wsScheme = window.location.protocol === 'https:' ? 'wss' : 'ws'\n    const domain = window.location.hostname === 'localhost' ? 'localhost:8000' : window.location.hostname\n    chatSocket = new WebSocket(\n      `${wsScheme}://${domain}/ws/chat/${params.room}/`\n    )\n\n    chatSocket.onmessage = e => {\n      const data = JSON.parse(e.data)\n      setNewMessage(data.message)\n      chatWindow.scrollToBottom()\n    }\n\n    // chatSocket.onclose = () => console.log('Chat socket closed unexpectedly')\n  }\n\n  const getChatHistory = async () => {\n    try {\n      const { data } = await getSingleRoom(params.room)\n      setName(data.name)\n      setMembers(data.members)\n      setMessages(data.messages)\n      setHistoryLoaded(true)\n      connectToSocket()\n    } catch (err) {\n      console.log(err)\n      history.goBack()\n    }\n  }\n\n  const sendMessage = event => {\n    event.preventDefault()\n    if (!draft) return\n    chatSocket.send(JSON.stringify({\n      'room_id': params.room,\n      'text': draft.trim(),\n      'user': localStorage.getItem('token')\n    }))\n    setDraft('')\n  }\n\n  const handleChange = event => setDraft(event.target.value)\n\n  const setChatWindowRef = ref => {\n    if (!historyLoaded && ref) {\n      chatWindow.element = ref\n      chatWindow.scrollToBottom()\n    } else if (!smoothScroll) {\n      setTimeout(() => setSmoothScroll(true), 100)\n    }\n  }\n\n  useEffect(() => {\n    getChatHistory()\n    return () => chatSocket.close()\n  }, [])\n\n  return (\n    <Wrapper>\n\n      <Header>\n        {name}\n        <ShowMembers onClick={() => setShowMembers(true)}>\n          group members\n        </ShowMembers>\n      </Header>\n      \n      <Body ref={setChatWindowRef} smoothScroll={smoothScroll}>\n        {messages && messages.map((message, i) =>\n          <MessageBox key={i} prevMessage={messages[i - 1]} data={message} isSelf={message.user.id === app.userID()} />)}\n      </Body>\n      \n      <div style={{ position: 'absolute', bottom: 0, width: 'calc(100% - 10px)' }}>\n        <ChatControl value={draft} handleChange={handleChange} send={sendMessage} />\n      </div>\n\n      {/* <Modal show={showMembers} count={members.length} onClick={() => setShowMembers(false)}> */}\n      <Modal show={showMembers} onClick={() => setShowMembers(false)}>\n        <div className=\"panel\" onClick={e => e.stopPropagation()}>\n          {members && members.map((member, i) => \n            <div key={i} className=\"member-card\">{member.username}</div>\n          )}\n        </div>\n      </Modal>\n    \n    </Wrapper>\n  )\n}\n\nexport default Room","import React from 'react'\nimport styled from 'styled-components'\nimport { Marker } from '@urbica/react-map-gl'\n\n\nclass Pin extends React.Component {\n\n  state = {\n    alt: false\n  }\n  \n  Wrapper = styled.div`\n    position: relative;\n    width: ${() => `${this.props.size}px`};\n    height: ${() => `${this.props.size}px`};\n    cursor: pointer;\n    top: ${() => `-${this.props.size - 2}px`};\n  `\n  Base = styled.div`\n    width: 100%;\n    height: 100%;\n    clip-path: circle();\n    background-color: ${() => this.props.color};\n  `\n  Point = styled.div`\n    background-color: ${() => this.props.color};\n    clip-path: polygon(50% 100%, 0% 0%, 100% 0%);\n    position: absolute;\n    top: 70%;\n    left: 5%;\n    width: 90%;\n    height: 65%;\n  `\n  Inner = styled.div`\n    position: absolute;\n    top: 10%;\n    left: 10%;\n    width: 80%;\n    height: 80%;\n    clip-path: circle();\n    background-color: ${() => this.state.alt && this.props.number > 0 ? this.props.color : '#f8f6f3'};\n  `\n  Dot = styled.div`\n    position: absolute;\n    top: 12.5%;\n    left: 12.5%;\n    width: 75%;\n    height: 75%;\n    background-color: ${() => this.props.color};\n    clip-path: circle();\n  `\n  Label = styled.div`\n    width: 100%;\n    background-color: transparent;\n    color: ${() => this.state.alt ? 'white' : '#333'};\n    font-size: ${() => `${this.props.size * 0.6}px`};\n    line-height: ${() => `${this.props.size * 0.8}px`};\n    font-family: 'Ubuntu Mono', monospace;\n    text-align: center;\n    font-weight: ${() => this.state.alt ? 400 : 700};\n  `\n\n  componentDidMount = () => {\n    this.setState({ alt: this.props.alt })\n  }\n\n  hoverPin = () => {\n    this.setState({ alt: !this.state.alt })\n  }\n\n  // Will need to move latlng to state if dragging allowed\n  dragPin = event => {\n    const latitude = event.lngLat[1]\n    const longitude = event.lngLat[0]\n    this.setState({ latitude, longitude })\n  }\n\n  render() {\n\n    const { latitude, longitude, number, id } = this.props\n    const { Wrapper, Base, Point, Inner, Dot, Label } = this\n    if (!latitude) return null\n\n    const zoomToPin = () => {\n      this.props.dblClickPin({ latitude, longitude, zoom: 15 })\n    }\n    const openDetails = () => {\n      this.props.clickPin(id)\n    }\n    \n    return (\n      <Marker\n        latitude={latitude}\n        longitude={longitude}\n        // draggable={draggable}\n        onClick={openDetails}\n        // onDrag={() => console.log('draggin pin..')}\n      >\n        <Wrapper onDoubleClick={zoomToPin} onMouseEnter={this.hoverPin} onMouseLeave={this.hoverPin}>\n          <Base/>\n          <Point/>\n          <Inner>\n            {number > 0 ? <Label>{number}</Label> : <Dot/>}\n          </Inner>\n        </Wrapper>\n      </Marker>\n    )\n  }\n}\n\nexport default Pin","import React from 'react'\n// import styled from 'styled-components'\nimport MapGL from '@urbica/react-map-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nimport Pin from './Pin'\n\n// const LoadingScreen = styled.div`\n//   display: flex;\n//   align-items: center;\n//   justify-content: center;\n//   position: absolute;\n//   top: 0;\n//   width: 100%;\n//   height: 100%;\n//   z-index: 1;\n//   background-color: white;\n//   opacity: ${props => props.mapLoading ? 1 : 0};\n//   transition: opacity 0.3s;\n//   pointer-events: none;\n// `\n\nconst Map = ({ pins, clickPin, flyTo, setRef }) => {\n\n  // const [mapLoading, setMapLoading] = React.useState(true)\n  const [viewport, setViewport] = React.useState({ zoom: 1, latitude: 50, longitude: 0 })\n\n  React.useEffect(() => {\n    if (!flyTo) return\n    const { latitude, longitude, zoom } = flyTo\n    setViewport({ latitude, longitude, zoom: zoom + 10 })\n  }, [flyTo])\n\n  const style = {\n    position: 'relative',\n    top: '-1px',\n    left: '-1px',\n    width: 'calc(100% + 2px)',\n    height: 'calc(100% + 2px)'\n  }\n\n  return (\n    <>\n      {/* <LoadingScreen mapLoading={mapLoading}>Loading Map..</LoadingScreen> */}\n      <MapGL\n        ref={setRef}\n        mapStyle='mapbox://styles/mapbox/streets-v11'\n        style={style}\n        cursorStyle=\"default\"\n        accessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n        {...viewport}\n        viewportChangeMethod=\"flyTo\"\n        onViewportChange={setViewport}\n        doubleClickZoom={false}\n        // onLoad={() => setMapLoading(false)}\n      >\n        {pins && pins.map((pin, i) => (\n          <Pin key={i} {...pin} clickPin={clickPin} dblClickPin={setViewport} />\n        ))}\n      </MapGL>\n    </>\n  )\n}\n\nexport default Map","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  position: relative;\n  width: ${props => props.width || '100%' };\n  margin: auto;\n`\n\nconst Input = styled.input`\n  background-color: ${props => props.theme.panels};\n  color: ${props => props.theme.text};\n  border-radius: 2px;\n  height: 3.1rem;\n  width: 100%;\n  font-weight: ${props => props.theme.fontWeight};\n  border: 1px solid ${props => props.theme.shadow};\n  padding: calc(12px + 0.7rem) 10px 5px;\n  &:focus {\n    outline: ${props => props.tabbed ? '2px solid ' + props.theme.panels : 'none'};\n    border-color: ${props => props.tabbed ? props.theme.focus : props.theme.shadow};\n  }\n  ::selection {\n    background-color: ${props => props.theme.primary};\n    color: #444;\n  }\n`\n  \nconst Label = styled.div`\n  position: absolute;\n  top: ${props => props.focus ? '6px' : '0.8rem'};\n  left: 11px;\n  color: ${props => props.theme.text};\n  font-size: ${props => props.focus ? '0.7rem' : '1rem'};\n  font-weight: ${props => props.theme.fontWeight};\n  letter-spacing: ${props => props.theme.letterSpacing};\n  pointer-events: none;\n`\n\nconst Highlight = styled.div`\n  height: ${props => props.focus ? '3px' : 0};\n  width: calc(100% - 2px);\n  background-color: ${props => props.tabbed ? props.theme.focus : props.theme.primary};\n  position: absolute;\n  bottom: 1px;\n  left: 1px;\n  border-bottom-left-radius: ${props => props.focus ? 0 : '2px'};\n  border-bottom-right-radius: ${props => props.focus ? 0 : '2px'};\n  transition: all 0;\n`\n\n\nconst GeocoderInput = ({ label, width, inputProps, setRef, value, onChange }) => {\n\n  const [focus, setFocus] = React.useState(false)\n  const [tabbed, setTabbed] = React.useState(true)\n\n  const handleBlur = () => {\n    setFocus(false)\n    setTabbed(true)\n  }\n\n\n  return (\n    <Wrapper\n      width={width}\n      onFocus={() => setFocus(true)}\n      onBlur={handleBlur}\n      onClick={() => setTabbed(false)}\n    >\n      <Input\n        ref={ref => setRef(ref)}\n        {...inputProps}\n        spellCheck=\"false\"\n        onChangeCapture={onChange}\n        value={value}\n        tabbed={tabbed}\n      />\n      <Label focus={focus || value}>{label}</Label>\n      <Highlight focus={focus} tabbed={tabbed} />\n    </Wrapper>\n  )\n}\n\nexport default GeocoderInput","import React from 'react'\nimport styled from 'styled-components'\nimport GeocoderGL from 'react-mapbox-gl-geocoder'\n\nimport GeocoderInput from './GeocoderInput'\n\nconst Item = styled.div`\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.text};\n  padding: 10px;\n  &:hover {\n    background-color: ${props => props.theme.primary};\n    color: #333;\n  }\n`\n\nconst Geocoder = ({ width, value, onSelect, onChange, flyToLocation, setRef }) => {\n\n  return (\n    <GeocoderGL\n      viewport={{}} // set to empty as we are handling connection to map component manually\n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n\n      inputComponent={inputProps => (\n        <GeocoderInput setRef={setRef} width={width} label=\"Location\" value={value} onChange={onChange} inputProps={{ ...inputProps }} />)}\n      \n      // Click capture is needed here to allow onSelected to retain functionality\n      itemComponent={itemProps => (\n        <Item {...itemProps} onClickCapture={() => onSelect(itemProps.item)} tabIndex=\"0\"/>)}\n\n      onSelected={flyToLocation}\n      initialInputValue={value}\n      timeout={150}\n        \n      // updateInputOnSelect\n    />\n  )\n}\n\nexport default Geocoder","export const pick = (obj, props) => (\n  props.reduce((res, prop) => ({ ...res, [prop]: obj[prop] }), {})\n)\n\n/**\n * Returns new array with value updated at specified index\n * @param {*} array\n * @param {*} index\n * @param {*} value\n */\nexport const update = (array, index, value) => (\n  array.map((prev, i) => index === i ? value : prev)\n)\n\n/** Takes an array of either strings of 2 item arrays\n * If item is a string - returns menu item with label \n * and value equal to string. If array - returns menu\n * item with label of 1st item and value of 2nd.\n */\nexport const selectMenu = option => (\n  typeof (option) === 'object'\n    ? { label: option[0], value: option[1] }\n    : { label: option, value: option }\n)\n\nexport const actionKeyPressed = (event, targetName) => {\n\n  const isContainer = event.target.getAttribute('name') === targetName\n  const isActionKey = ['Enter', 'Space'].includes(event.code)\n\n  return isActionKey && isContainer\n}","/* eslint-disable camelcase */\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport Button from './Button'\n\nimport { actionKeyPressed } from '../../lib/helper'\n\nconst Wrapper = styled.article`\n  margin: 5px;\n  margin-right: 2px;\n  padding: 5px;\n  position: relative;\n  top: ${props => props.expanded ? `calc(-${props.position * 3.4}rem - ${props.position * 15}px)` : 0};\n  height: ${props => props.expanded ? 'calc(100% - 10px)' : 'calc(3.4rem + 10px)'};\n  opacity: ${props => props.visible ? 1 : 0};\n  transition: height 0.4s, top 0.4s, opacity 0.2s;\n\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  color: ${props => props.theme.text};\n  overflow: hidden;\n\n  > button {\n    opacity: ${props => props.expanded ? 1 : 0};\n    pointer-events: ${props => props.expanded ? 'all' : 'none'};\n    transition: opacity 0.2s ${props => props.expanded ? '0.3s' : 0};\n    position: absolute;\n    bottom: 5px;\n    right: 5px;\n  }\n\n  &:focus { outline: none; }\n  &:focus-visible {\n    border: 2px solid ${props => props.theme.focus};\n    padding: 4px;\n    outline: 1px solid ${props => props.theme.panels};\n  }\n`\n\nconst Title = styled.div`\n  height: 4rem;\n  margin: -5px;\n  padding: 10px;\n  overflow: hidden;\n  font-size: 0.85rem;\n  line-height: 1.5rem;\n  font-weight: ${props => props.theme.fontWeight};\n  cursor: pointer;\n\n  > p {\n    margin: 0;\n  }\n`\n\nconst Body = styled.div`\n  position: relative;\n  margin: 10px -5px 0;\n  padding: 15px;\n  padding-bottom: 3rem;\n  height: calc(100% - 3rem + 4px);\n  overflow-y: ${props => props.expanded ? 'scroll' : 'hidden'};\n  background-color: ${props => props.theme.glass};\n  color: #333;\n  font-size: 0.7rem;\n  line-height: 1.5rem;\n`\n\nconst ResultsItem = ({ listExpanded, visible, expanded, showDetails, id, position, name, description, campaign_skills, signUp }) => {\n\n  const activateWithKeys = event => {\n    if (actionKeyPressed(event, 'item-container'))\n      showDetails(id)\n  }\n\n  const expandItem = () => showDetails(id)\n  const signUpToCampaign = () => signUp(id)\n\n  return (\n    <Wrapper\n      name=\"item-container\"\n      visible={visible}\n      expanded={expanded}\n      position={position}\n      tabIndex={listExpanded && visible ? 0 : -1}\n      onKeyDown={activateWithKeys}\n    >\n      <Title onClick={expandItem}>\n        <p>{name}</p>\n        <p>{campaign_skills.map(skill => skill.name).join(', ')}</p>\n      </Title>\n\n      <Body>\n        {description}\n      </Body>\n\n      <Button\n        primary\n        onClick={signUpToCampaign}\n        tabIndex={listExpanded && expanded ? 0 : -1}\n      >\n        sign up\n      </Button>\n\n    </Wrapper>\n  )\n}\n\nexport default ResultsItem","import React from 'react'\nimport styled, { withTheme } from 'styled-components'\nimport icons from '../../lib/icons'\nimport ResultsItem from './ResultsItem'\n\nconst Wrapper = styled.section`\n  position: relative;\n  width: 100%;\n  height: ${props => props.isHidden ? '3rem' : 'calc(100vh - 9rem - 30px)'};\n  background-color: ${props => props.theme.panels};\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  overflow-y: hidden;\n  overflow-x: hidden;\n  transition: height 0.2s;\n  padding: 2px;\n  \n  &:focus { outline: none; }\n  &:focus-visible {\n    border: 3px solid ${props => props.theme.focus};\n    padding: 0px;\n    outline: 2px solid ${props => props.theme.panels};\n  }\n`\n\nconst ListScroll = styled.div`\n  position: relative;\n  height: calc(100% - 3rem);\n  overflow-y: ${props => props.scroll ? 'scroll' : 'hidden'};\n  padding-right: ${props => props.scroll ? 0 : '3px'};\n`\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  height: calc(3rem - 4px);\n  padding-right: 5px;\n  cursor: pointer;\n`\n\nconst Title = styled.div`\n  text-align: left;\n  padding-left: 10px;\n  color: ${props => props.theme.text};\n  font-size: 1rem;\n  line-height: calc(3rem - 4px);\n  font-weight: ${props => props.theme.fontWeight};\n  ::selection {\n    background-color: transparent;\n  }\n`\n\nconst Toggle = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: relative;\n  height: 100%;\n  transform: rotateZ(${props => props.isHidden ? '0deg' : '90deg'});\n  transition: all 0.2s;\n  pointer-events: none;\n`\n\nconst ResultsList = ({ campaigns, signUp, resultShowingDetail, showDetail, theme }) => {\n\n  const [isHidden, setIsHidden] = React.useState(true)\n\n  React.useEffect(() => {\n    if (resultShowingDetail !== -1) setIsHidden(false)\n  }, [resultShowingDetail])\n\n  const toggleView = () => setIsHidden(!isHidden)\n\n  const activateWithKeyboard = event => {\n\n    const isContainer = event.target.getAttribute('name') === 'list-container'\n    const isActionKey = ['Enter', 'Space'].includes(event.code)\n\n    if (isContainer && isActionKey) setIsHidden(!isHidden)\n  }\n\n  return (\n    <Wrapper\n      name=\"list-container\"\n      isHidden={isHidden}\n      tabIndex=\"0\"\n      onKeyDown={activateWithKeyboard}\n    >\n      <Header onClick={toggleView}>\n        <Title>Results</Title>\n        <Toggle isHidden={isHidden}>{icons.right(theme.text)}</Toggle>\n      </Header>\n      <ListScroll scroll={resultShowingDetail === -1}>\n        {campaigns && campaigns.map((campaign, i) => {\n          const expanded = campaign.id === resultShowingDetail\n          return (\n            <ResultsItem\n              key={i}\n              position={i}\n              {...campaign}\n              listExpanded={!isHidden}\n              expanded={expanded}\n              visible={expanded || resultShowingDetail === -1}\n              showDetails={showDetail}\n              signUp={signUp}\n            />\n          )\n        })}\n      </ListScroll>\n    </Wrapper>\n  )\n}\n\nexport default withTheme(ResultsList)","import React, { useContext, useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nimport { AppContext } from '../../App'\n\nimport Map from '../map/Map'\nimport Geocoder from '../map/Geocoder'\nimport InputText from '../elements/InputText'\nimport ResultsList from '../elements/ResultsList'\n\nimport { getAllCampaigns, updateVolunteers } from '../../lib/api'\n\nconst Wrapper = styled.main`\n  position: relative;\n  width: 100%;\n  height: calc(100vh - 3rem);\n  overflow: hidden;\n`\n\nconst SearchFields = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 350px;\n  max-width: calc(100vw - 20px);\n  z-index: 1;\n  > * { margin-bottom: 5px; }\n\n  @media only screen and (max-width: 425px) {\n    width: calc(100vw - 20px);\n  }\n`\n\nlet geocoderRef = null\n\nconst CampaignIndex = () => {\n\n  const app = useContext(AppContext)\n\n  const [campaigns, setCampaigns] = useState([])\n  const [results, setResults] = useState([])\n  const [location, setLocation] = useState('')\n  const [tag, setTag] = useState('')\n  const [bounds, setBounds] = useState({\n    ne: { lat: 90, lng: 180 },\n    sw: { lat: -90, lng: -180 }\n  })\n  const [flyTo, setFlyTo] = useState(null)\n  const [resultShowingDetail, setResultShowingDetail] = useState(-1)\n  const [tagError, setTagError] = useState('')\n\n  const getCampaigns = () => getAllCampaigns().then(\n    res => setCampaigns(res.data),\n    res => {\n      console.error({ res })\n      app.setNotification({ message: 'Error loading campaign index. Please try refreshing the page' })\n    }\n  )\n\n  const attachMapBoundsListener = ref => {\n    if (ref) {\n      ref.getMap()._listeners.moveend = [() => getBounds(ref)]\n    }\n  }\n\n  const attachGeocoder = ref => {\n    geocoderRef = ref\n  }\n\n  const getResults = () => {\n\n    const { sw: min, ne: max } = bounds\n\n    const inRange = (value, min, max) => value > min && value < max\n    const matchesQuery = ({ name }) => name.toLowerCase().includes(tag.toLowerCase())\n    const invalidTagQuery = /[^\\w]/.test(tag)\n\n    setTagError(invalidTagQuery ? 'can only include alphanumeric characters' : '')\n\n    setResults(\n      campaigns\n        .filter(({ latitude, longitude }) => (\n          inRange(latitude, min.lat, max.lat) && inRange(longitude, min.lng, max.lng)\n        ))\n        .filter(({ tags }) => (\n          !tag || invalidTagQuery || tags.some(matchesQuery)\n        ))\n        .map((result, i) => ({ ...result, color: '#222', size: 20, number: ++i }))\n    )\n  }\n\n  const getBounds = ref => {\n    const { _ne: ne, _sw: sw } = ref?.getMap().getBounds()\n    setBounds({ ne, sw })\n  }\n\n  const selectGeocoderItem = location => {\n    setTimeout(() => setLocation(location.place_name), 1)\n  }\n\n  const updateGeocoderInput = event => {\n    const { selectionStart } = event.target\n\n    setLocation(event.target.value)\n    \n    setTimeout(() => {\n      geocoderRef.focus()\n      geocoderRef.selectionStart = selectionStart\n      geocoderRef.selectionEnd = selectionStart\n    }, 1)\n  }\n\n  const signUpToCampaign = async id => {\n    const userID = app.userID()\n    if (userID) {\n      await updateVolunteers(id, { volunteer_id: userID, action: 'add' })\n      app.setNotification({ message: 'A request to join has been sent to the campaign coordinators' })\n    } else {\n      app.setNotification({ message: 'please login to sign up' })\n    }\n  }\n\n  const showDetail = id => {\n    setResultShowingDetail(resultShowingDetail === id ? -1 : id)\n  }\n\n  useEffect(getCampaigns, [])\n  useEffect(getResults, [campaigns, location, tag, bounds])\n\n  return (\n    <Wrapper>\n\n      <SearchFields>\n        <Geocoder\n          value={location}\n          onChange={updateGeocoderInput}\n          onSelect={selectGeocoderItem}\n          flyToLocation={setFlyTo}\n          setRef={attachGeocoder}\n        />\n        <InputText\n          name=\"tag\"\n          label=\"Tags\"\n          value={tag}\n          error={tagError}\n          returnValue={e => setTag(e.target.value)}\n        />\n        <ResultsList\n          campaigns={results}\n          signUp={signUpToCampaign}\n          showDetail={showDetail}\n          resultShowingDetail={resultShowingDetail}\n        />\n      </SearchFields>\n\n      <Map\n        pins={results}\n        flyTo={flyTo}\n        setRef={attachMapBoundsListener}\n        clickPin={showDetail}\n      />\n\n    </Wrapper>\n  )\n}\n\nexport default CampaignIndex","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 250px;\n`\n\nconst Banner = styled.div`\n  position: fixed;\n  top: 3rem;\n  background-image: url(${props => props.src});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: top;\n  height: 250px;\n  width: calc(100% - 3px);\n  /* max-width: calc(1200px - 3px); */\n  margin: auto;\n  z-index: 0;\n  pointer-events: none;\n`\n\nconst Mask = styled.div`\n  position: fixed;\n  top: 3rem;\n  width: calc(100% - 3px);\n  /* max-width: calc(1200px - 3px); */\n  height: 15px;\n  z-index: ${props => props.active ? 3 : 0};\n  overflow: hidden;\n`\n\nconst MaskImage = styled.div`\n  height: 250px;\n  width: 100%;\n  background: url(${props => props.src});\n  background-position: top;\n  background-size: cover;\n  pointer-events: none;\n`\n\nconst Profile = styled.button`\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  border: none;\n  padding: 0;\n  background-image: ${props => 'url(' + props.image + ')'};\n  background-size: contain;\n  background-color: ${props => props.theme.glass};\n  width: calc(230px - 3rem);\n  height: calc(230px - 3rem);\n  border-radius: 4px;\n  pointer-events: all;\n`\n\nconst ProfileLabel = styled.div`\n  position: absolute;\n  top: 0;\n  font-size: 0.85rem;\n  font-family: 'Open Sans', sans-serif;\n  text-align: center;\n  width: 100%;\n  line-height: 1.5rem;\n  background-color: ${props => props.theme.glass};\n  color: ${props => props.theme.text};\n  border-radius: 4px 4px 0 0;\n`\n\nconst BannerImage = ({ src, profile, onProfileClick, profileLabel, maskActive }) => {\n\n  const [imageLabelVisible, setImageLabelVisible] = React.useState(false)\n\n  const defaultSrc = require('../../images/default_banner.png')\n  \n  return <Wrapper>\n    <Mask active={maskActive}>\n      <MaskImage src={src ? src : defaultSrc} />\n    </Mask>\n    <Banner src={src ? src : defaultSrc}>\n      {profile &&\n        <Profile\n          aria-label=\"User Profile Image\"\n          image={profile}\n          onClick={onProfileClick}\n          onMouseEnter={() => setImageLabelVisible(true)}\n          onMouseLeave={() => setImageLabelVisible(false)}\n        >\n          {imageLabelVisible && <ProfileLabel>{profileLabel}</ProfileLabel>}\n        </Profile>\n      }\n    </Banner>\n      \n  </Wrapper>\n}\n\nexport default BannerImage\n\n","/* eslint-disable camelcase */\nimport React from 'react'\nimport styled, { ThemeContext } from 'styled-components'\nimport Select from 'react-select'\n\nimport styles from '../../lib/styles'\n\nimport BannerImage from '../elements/BannerImage'\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: calc(100vh - 3rem);\n  overflow-y: scroll;\n  background-color: ${props => props.theme.background};\n  padding-bottom: 30px;\n  /* padding-right: 3px; */ //TODO check if this solves layout issue with scrollbar\n`\n\nconst Panel = styled.div`\n  position: absolute;\n  top: calc(255px - 3rem);\n  left: 10px;\n  width: calc(100vw - 23px);\n  min-height: calc(100vh - 3rem - 15px);\n  padding: 20px;\n  padding-top: calc(3rem + 20px);\n  background-color: ${props => props.theme.glass};\n  border-radius: 4px;\n  backdrop-filter: blur(4px);\n  z-index: 1;\n`\n\nconst Title = styled.h2`\n  position: ${props => props.sticky ? 'fixed' : 'relative'};\n  top: ${props => props.sticky ? 'calc(3rem + 10px)' : 'calc(0px - 3rem)'};\n  left: 10px;\n  width: calc(100vw - 23px);\n  font-size: 1.1rem;\n  background-color: ${props => props.theme.primary};\n  color: #333;\n  padding: 12px 20px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  height: 3rem;\n  z-index: 3;\n\n  .menu {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    width: 10rem;\n  }\n`\n\nconst Action = styled.button`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  height: calc(3rem - 10px);\n  border: 2px solid transparent;\n  border-radius: 2px;\n  background-color: ${props => props.theme.background};\n  color: ${props => props.theme.text};\n  padding: 0 20px;\n  font-size: 0.85rem;\n\n  &:hover {\n    background-color: ${props => props.theme.primary};\n    color: #333;\n    border: 2px solid ${props => props.theme.background};\n  }\n`\n\n/**\n * Template for show pages, with sticky title bar, glassy panel and masked banner image\n * Child components displayed inside panel. Optional inner image that lays on top of banner.\n * Optional menu object that needs value, onChange and options (react-select options array)\n */\nconst Show = ({ title, action, menu, banner, image, imageLabel, onImageClick, children }) => {\n  \n  const theme = React.useContext(ThemeContext)\n  \n  const [stickyTitle, setStickyTitle] = React.useState(false)\n\n  const toggleStickyTitleBar = event => {\n    setStickyTitle(event.target.scrollTop >= 190)\n  }\n\n  return (\n    <Wrapper onScroll={toggleStickyTitleBar}>\n\n      <BannerImage\n        src={banner}\n        profile={image}\n        onProfileClick={onImageClick}\n        profileLabel={imageLabel}\n        maskActive={stickyTitle}\n      />\n\n      <Title sticky={stickyTitle}>\n        {title}\n        {menu &&\n          <Select\n            className=\"menu\"\n            styles={styles.select(theme)}\n            options={menu.options}\n            value={menu.value}\n            onChange={menu.onChange}\n            isSearchable={false}\n          />\n        }\n        {action && <Action onClick={action.click}>{action.label}</Action>}\n      </Title>\n\n      <Panel>\n        {children}\n      </Panel>\n          \n    </Wrapper>\n  )\n}\n\nexport default Show","import React from 'react'\n\nconst CampaignInfo = ({ campaignData }) => {\n\n\n  return campaignData.description.split('\\n').map((para, i) => <p key={i}>{para}</p>)\n}\n\nexport default CampaignInfo","/* eslint-disable camelcase */\nimport React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column-reverse;\n  position: relative;\n  padding-bottom: calc(4rem + 30px);\n  /* overflow-x: hidden; */\n`\n\nconst NoticeText = styled.div`\n  position: relative;\n  margin: 5px;\n  margin-right: 2px;\n  padding: 15px;\n  padding-bottom: calc(15px + 1rem);\n  background-color: ${props => props.theme.background};\n  /* font-style: italic; */\n  color: ${props => props.theme.text};\n  box-shadow: 0 0 2px #555a;\n`\n\nconst NoticeDelete = styled.div`\n  position: absolute;\n  right: 10px;\n  bottom: 10px;\n  font-size: 0.7rem;\n  padding-top: 9px;\n  color: red;\n  cursor: pointer;\n`\n\nconst User = styled.div`\n  position: absolute;\n  right: calc(10px + 3rem);\n  bottom: 10px;\n  font-size: 0.7rem;\n  padding-top: 10px;\n  color: ${props => props.theme.text};\n`\n\nconst NoticeBoard = ({ campaignData, isAdmin, deleteNotice }) => {\n\n  const formatDate = date => (\n    `${date.toDateString()} ${date.toLocaleTimeString()}`\n  )\n\n  return (\n    <Wrapper>\n      {campaignData.campaign_notices.map(({ id, owner, text, time_stamp }) => (\n        <NoticeText key={id}>\n          {text.split('\\n').map((line, i) => <p key={i}>{line}</p>)}\n          <User>{`${formatDate(new Date(time_stamp))} - ${owner.username}`}</User>\n          {isAdmin && <NoticeDelete id={id} onClick={deleteNotice}>delete</NoticeDelete>}\n        </NoticeText>\n      ))}\n    </Wrapper>\n  )\n\n}\n\nexport default NoticeBoard\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useHistory } from 'react-router-dom'\n\nconst Wrapper = styled.button`\n  display: block;\n  width: 100%;\n  border: none;\n  font-family: 'Open Sans', sans-serif;\n  background-color: ${props => props.theme.shadow};\n  border-radius: 4px;\n  line-height: 3rem;\n  padding: 0 15px;\n  margin: 5px 0;\n  transition: all 0.2s;\n  color: #333;\n\n  &:hover {\n    background-color: ${props => props.theme.shadow};\n  }\n`\n\nconst RoomCard = ({ room }) => {\n  const history = useHistory()\n  return <Wrapper onClick={() => history.push(`/chat/${room.id}`)}>\n    {room.name}\n  </Wrapper>\n}\n\nexport default RoomCard","import React from 'react'\n\nimport RoomCard from '../elements/RoomCard'\n\nconst CampaignChats = ({ rooms }) => {\n  return rooms.map((room, i) => <RoomCard key={i} room={room} />)\n}\n\nexport default CampaignChats","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  padding: 5px;\n  padding-top: calc(2rem + 10px);\n  background-color: ${props => props.theme.panels};\n  border-radius: 2px;\n  border: 1px solid ${props => props.hideBorder ? 'transparent' : props.theme.shadow};\n  height: calc(6rem + 25px);\n  overflow-x: scroll;\n  overflow-y: hidden;\n`\n\nconst Grid = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: 4rem;\n  width: 14rem;\n`\n\nconst Slot = styled.div`\n  width: 2rem;\n  height: 2rem;\n  background-color: ${props => props.active ? props.theme.primary : 'transparent'};\n\n  &:hover {\n    background-color: ${props => props.theme.primary};\n    opacity: ${props => props.active ? 1 : 0.7};\n    outline: 3px solid ${props => props.theme.panels};\n    outline-offset: -3px;\n  }\n`\n\nconst SlotReadOnly = styled.div`\n  width: 2rem;\n  height: 2rem;\n  background-color: ${props => props.active ? props.theme.primary : 'transparent'};\n`\n\nconst Label = styled.div`\n  width: 2rem;\n  line-height: 2rem;\n  font-size: 0.85rem;\n  text-align: center;\n  color: ${props => props.theme.text};\n`\n\nconst Time = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 2rem;\n  height: 4rem;\n`\n\nconst Days = styled.div`\n  display: flex;\n  position: absolute;\n  transform: translate(1rem, -2rem);\n`\n\nconst Schedule = ({ schedule: slots, handleClick, hideBorder }) => {\n\n  if (!slots) slots = Array.from({ length: 14 })\n\n  return (\n    <Wrapper hideBorder={hideBorder}>\n      <Time>\n        <Label>am</Label>\n        <Label>pm</Label>\n      </Time>\n      <Days>\n        <Label>mon</Label>\n        <Label>tue</Label>\n        <Label>wed</Label>\n        <Label>thu</Label>\n        <Label>fri</Label>\n        <Label>sat</Label>\n        <Label>sun</Label>\n      </Days>\n      <Grid>\n        {slots.map((slot, i) => handleClick\n          ? <Slot key={i} active={slot} onClick={() => handleClick?.(i)} />\n          : <SlotReadOnly key={i} active={slot} />)}\n      </Grid>\n    </Wrapper>\n  )\n}\n\nexport default Schedule","import React from 'react'\nimport Select from 'react-select'\nimport styled, { withTheme, useTheme } from 'styled-components'\n\nimport { AppContext } from '../../App'\n\nimport Schedule from './Schedule'\nimport InputText from './InputText'\nimport Button from './Button'\n\nimport { getAllSkills } from '../../lib/api'\nimport styles from '../../lib/styles' \n\nconst Wrapper = styled.div`\n  height: 100%;\n  border-radius: 4px;\n  border: 1px solid ${props => props.theme.shadow};\n  padding: 10px;\n  text-align: center;\n  width: 100%;\n  \n  > * {\n    margin: 10px auto 0;\n  }\n`\n\nconst CheckBox = styled.div`\n  text-align: right;\n  > * { margin-right: 15px }\n`\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  > button {\n    width: calc(50% - 5px);\n    margin: 0;\n  }\n`\n\nconst RadioGroup = styled.div`\n  input {\n    position: relative;\n    top: 1px;\n    margin: 10px;\n  }\n`\n\nconst FilterControls = props => {\n\n  const app = React.useContext(AppContext)\n\n  const theme = useTheme()\n\n  const {\n    schedule,\n    skills,\n    selectSchedule,\n    selectSkills,\n    toggleStrict,\n    toggleList,\n    groupName,\n    editGroupName,\n    selectAll,\n    createNewGroup,\n    showChatCreate\n  } = props\n\n  const [skillsOptions, setSkillsOptions] = React.useState()\n\n  const getSkills = () => getAllSkills().then(\n    res => setSkillsOptions(res.data.map(skill => ({ value: skill.id, label: skill.name }))),\n    res => {\n      console.error({ res })\n      app.setNotification({ message: 'Error loading skill data. Please try refreshing the page' })\n    }\n  )\n\n  React.useEffect(getSkills, [])\n\n  return (\n    <Wrapper aria-roledescription=\"Filtering controls for user list\">\n      <RadioGroup>\n        <label htmlFor=\"members\">Members</label>\n        <input type=\"radio\" name=\"listDisplay\" id=\"members\" value=\"members\" onChange={() => toggleList('members')} defaultChecked />\n        <label htmlFor=\"pending\">Requests</label>\n        <input type=\"radio\" name=\"listDisplay\" id=\"pending\" value=\"pending\" onChange={() => toggleList('pending')} />\n      </RadioGroup>\n      <p>show volunteers with these skills</p>\n      <Select styles={styles.select(theme)} value={skills.values} options={skillsOptions} onChange={selectSkills} isMulti />\n      <CheckBox>\n        <label htmlFor=\"strictSkills\">All</label>\n        <input type=\"checkbox\" id=\"skills\" checked={skills.strict} onChange={toggleStrict}/>\n      </CheckBox>\n      <p>show volunteers available on</p>\n      <Schedule schedule={schedule.values} handleClick={selectSchedule} />\n      <CheckBox>\n        <label htmlFor=\"strictSchedule\">All</label>\n        <input type=\"checkbox\" id=\"schedule\" checked={schedule.strict} onChange={toggleStrict}/>\n      </CheckBox>\n      {showChatCreate && <>\n        <InputText label=\"group name\" name=\"groupName\" value={groupName} returnValue={editGroupName} />\n        <ButtonGroup>\n          <Button onClick={selectAll}>select all</Button>\n          <Button primary onClick={createNewGroup}>create group</Button>\n        </ButtonGroup>\n      </>}\n    </Wrapper>\n  )\n}\n\nexport default withTheme(FilterControls)","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  overflow-y: scroll;\n  background-color: transparent;\n  border-radius: 4px;\n  border: ${props => `1px solid ${props.theme.shadow}`};\n  padding-left: 5px;\n  padding-right: 2px;\n\n  > * {\n    margin: 5px 0;\n  }\n`\n\nconst Title = styled.div`\n  text-align: left;\n  line-height: 3rem;\n  padding-left: 10px;\n  color: ${props => props.theme.text};\n  font-weight: ${props => props.theme.fontWeight};\n  ::selection {\n    background-color: transparent;\n  }\n`\n\nconst List = ({ title, items, itemElement }) => {\n\n  const [itemExpanded, setItemExpanded] = React.useState(-1)\n\n  const showDetail = id => {\n    setItemExpanded(itemExpanded === id ? -1 : id)\n  }\n\n  return (\n    <Wrapper>\n      {title && <Title>{title}</Title>}\n      {items?.map((item, i) => itemElement(item, i, itemExpanded, showDetail))}\n    </Wrapper>\n  )\n}\n\nexport default List","import React from 'react'\nimport styled from 'styled-components'\n\nimport Schedule from './Schedule'\n\nconst Wrapper = styled.div`\n  position: relative;\n  height: ${props => props.isExpanded ? 'calc(19rem + 4px)' : '3rem'};\n  background-color: ${props => props.isSelected ? props.theme.primary : props.theme.glass};\n  border-radius: 2px;\n  border: 1px solid ${props => props.theme.shadow};\n  font-size: 0.85rem;\n  line-height: 1.5rem;\n  color: #333;\n  overflow-y: hidden;\n  transition: height 0.3s;\n  padding: 0 5px;\n`\n\nconst Header = styled.div`\n  display: flex;\n  margin: 0 -5px;\n\n  > input {\n    height: 1.5rem;\n    width: 1.5rem;\n    margin-top: 0.75rem;\n    margin-right: 0.75rem;\n  }\n`\n\nconst Title = styled.div`\n  width: 100%;\n  line-height: 3rem;\n  padding-left: 15px;\n`\n\nconst Button = styled.button`\n  width: 6rem;\n  height: calc(3rem - 2px);\n  border: none;\n  background-color: transparent;\n  transition: background-color 0.2s;\n  &:hover {\n    background-color: ${props => props.color};\n  }\n  &:focus {\n    outline: none;\n  }\n  &:focus-visible {\n    outline: 2px solid blue;\n    outline-offset: -2px;\n  }\n`\n\nconst ProfilePic = styled.img`\n  width: 3rem;\n  height: 3rem;\n  /* border-radius: 2px; */\n  /* border-radius: 1px 0 2px 0; */\n  background-color: palevioletred;\n`\n\nconst Details = styled.div`\n  height: 7rem;\n  margin: 10px;\n  p {\n    line-height: 1.5rem;\n  }\n`\n\nconst UserCard = ({ user, updateList, select, showDetail, isSelected, isExpanded }) => {\n\n  // const theme = React.useContext(ThemeContext)\n\n  const [denyActive, setDenyActive] = React.useState(false)\n\n  React.useEffect(\n    () => setTimeout(() => setDenyActive(false), 2000),\n    [denyActive]\n  )\n\n  const clickDeny = () => {\n    if (!denyActive) setDenyActive(true)\n    else updateList(user.id, 'delete')\n  }\n\n  // TODO handle non-admin instance of user-card more gracefully\n  // for now, using a simple fallback\n  const schedule = Array.from(\n    { length: 14 },\n    (_, i) => user.user_shifts.some(shift => shift.id === i + 1)\n  )\n\n  const showDefaultProfile = user.profile_image.includes('fg5afp4hagsrz2fgkbwd')\n\n  return (\n    <Wrapper isExpanded={isExpanded} isSelected={isSelected} >\n      <Header>\n        {!showDefaultProfile && <ProfilePic src={user.profile_image} />}\n        {showDefaultProfile && <ProfilePic src={require('../../images/default_profile.png')} />}\n        <Title onClick={() => showDetail(user.id)}>{user.username}</Title>\n\n        {updateList && <>\n          <Button color=\"#afa\" onClick={() => updateList(user.id, 'confirm')}>\n            accept\n          </Button>\n          <Button color={denyActive ? '#f55' : '#faa'} onClick={clickDeny}>\n            {denyActive ? 'sure?' : 'deny'}\n          </Button>\n        </>}\n        {select &&\n          <input type=\"checkbox\" name={user.id} onChange={select} checked={isSelected} />\n        }\n      </Header>\n      \n      <Details>\n        <p>{user.first_name} {user.last_name}</p>\n        <p>{user.user_skills.map(skill => skill.name).join(', ')}</p>\n      </Details>\n      \n      <Schedule schedule={schedule} hideBorder />\n\n    </Wrapper>\n  )\n}\n\nexport default UserCard","/* eslint-disable camelcase */\nimport React, { useState, useEffect, useContext } from 'react'\nimport styled from 'styled-components'\nimport { useHistory } from 'react-router-dom'\n\nimport { createRoom, updateVolunteers } from '../../lib/api'\n\nimport { AppContext } from '../../App'\n\nimport FilterControls from '../elements/FilterControls'\nimport List from '../elements/List'\nimport UserCard from '../elements/UserCard'\nimport Button from '../elements/Button'\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: calc(100vh - 6rem - 40px);\n\n  > * {\n    position: relative;\n    height: 100%;\n    margin: auto 5px;\n  }\n`\n\nconst ControlToggle = styled.div`\n  margin: -20px 5px 5px;\n`\n\nconst VolunteersPanel = ({ campaignData, updateData, isAdmin }) => {\n\n  const app = useContext(AppContext)\n  const history = useHistory()\n\n  const [filteredUsers, setFilteredUsers] = useState([])\n  const [memberList, setMemberList] = useState([])\n  const [listDisplay, setListDisplay] = useState('members')\n  const [skills, setSkills] = useState({ values: [], strict: true })\n  const [schedule, setSchedule] = useState({ values: Array.from({ length: 14 }), strict: true })\n  const [selectedVolunteers, setSelectedVolunteers] = useState([])\n  const [groupName, setGroupName] = useState('')\n\n  const [view, setView] = useState(window.innerWidth < 650 ? 'toggle' : 'full')\n  const [panel, setPanel] = useState(0)\n\n  // onMount\n  useEffect(() => toggleUserList('members'), [])\n  // update campaign data from request actions\n  useEffect(() => toggleUserList(listDisplay), [campaignData])\n\n\n  const toggleUserList = listName => {\n\n    setListDisplay(listName)\n\n    setMemberList(\n      listName === 'members'\n        ? ['owner', 'coordinators', 'conf_volunteers']\n          .reduce((arr, prop) => arr.concat(campaignData[prop]), [])\n        : campaignData.pend_volunteers\n    )\n\n    setSelectedVolunteers([])\n  }\n\n  const selectSchedule = slot => {\n    setSchedule({\n      ...schedule,\n      values: schedule.values.map((val, i) => i === slot ? !val : val)\n    })\n  }\n\n  const selectSkills = values => {\n    setSkills({ ...skills, values })\n  }\n\n  const filterUsers = () => {\n\n    const isAvailable = userShifts => (\n      schedule.strict\n        ? schedule.values.every((slot, i) => !slot || userShifts.some(({ id }) => id - 1 === i))\n        : schedule.values.some((slot, i) => slot && userShifts.some(({ id }) => id - 1 === i))\n    )\n\n    const hasSkills = userSkills => (\n      skills.strict\n        ? skills.values.every(({ value }) => userSkills.some(({ id }) => value === id))\n        : skills.values.some(({ value }) => userSkills.some(({ id }) => value === id))\n    )\n\n    setFilteredUsers(\n      memberList\n        .filter(({ user_skills }) => !skills.values?.length || hasSkills(user_skills))\n        .filter(({ user_shifts }) => schedule.values.every(slot => !slot) || isAvailable(user_shifts))\n    )\n\n    setSelectedVolunteers(\n      selectedVolunteers.filter(id => filteredUsers.map(({ id }) => id).includes(id))\n    )\n  }\n\n  const toggleStrict = event => {\n    if (event.target.id === 'skills') {\n      setSkills({ ...skills, strict: event.target.checked })\n    } else {\n      setSchedule({ ...schedule, strict: event.target.checked })\n    }\n  }\n\n  const editGroupName = event => setGroupName(event.target.value)\n\n  // TODO BACKEND return campaignData \n  const updateList = (volunteer_id, action) => {\n    updateVolunteers(campaignData.id, { volunteer_id, action })\n      .then(\n        () => updateData(),\n        () => {\n          app.setNotification(\n            { message: 'There was an error while attempting to update the list' }\n          )\n        }\n      )\n  }\n\n  const selectVolunteer = event => {\n    const id = +event.target.name\n    setSelectedVolunteers(\n      selectedVolunteers.includes(id)\n        ? [...selectedVolunteers].filter(vol => vol !== id)\n        : selectedVolunteers.concat(id)\n    )\n  }\n\n  // TODO deselect not working on filtered lists\n  const selectAll = () => {\n    setSelectedVolunteers(\n      selectedVolunteers.length !== memberList.length\n        ? filteredUsers.map(({ id }) => id)\n        : []\n    )\n  }\n\n  const createNewGroup = async () => {\n\n    if (!groupName || !selectedVolunteers.length) return\n\n    const response = await createRoom({\n      name: groupName,\n      members: selectedVolunteers.concat(app.user),\n      campaign: campaignData.id\n    })\n    if (response.status === 201) {\n      history.push(`/chat/${response.data.id}`)\n    }\n  }\n\n  useEffect(filterUsers, [memberList, skills, schedule])\n\n  const itemElement = (user, i, itemExpanded, showDetail) => (\n    <UserCard\n      key={i}\n      user={user}\n      isSelected={selectedVolunteers.includes(user.id)}\n      isExpanded={user.id === itemExpanded}\n      showDetail={showDetail}\n      select={listDisplay === 'members' && isAdmin && selectVolunteer}\n      updateList={listDisplay === 'pending' && updateList}\n    />\n  )\n\n  React.useEffect(() => {\n    const handleResize = () => {\n      const mode = window.innerWidth < 650 ? 'toggle' : 'full'\n      setView(mode)\n\n\n    }\n    window.addEventListener('resize', handleResize)\n    // Clean up on unmount\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  const togglePanel = () => setPanel((panel + 1) % 2)\n\n\n  return (<>\n    \n    {view === 'toggle' &&\n      <ControlToggle>\n        <Button width=\"100%\" onClick={togglePanel}>Filter List</Button>\n      </ControlToggle>\n    }\n\n    <Wrapper>\n\n      {(view === 'full' || panel === 0) &&\n        <List\n          items={filteredUsers}\n          itemElement={itemElement}\n        />\n      }\n\n      {isAdmin && (view === 'full' || panel === 1) &&\n        <FilterControls\n          skills={skills}\n          schedule={schedule}\n          selectSkills={selectSkills}\n          selectSchedule={selectSchedule}\n          toggleStrict={toggleStrict}\n          toggleList={toggleUserList}\n          groupName={groupName}\n          editGroupName={editGroupName}\n          selectAll={selectAll}\n          createNewGroup={createNewGroup}\n          showChatCreate={listDisplay === 'members'}\n        />}\n\n    </Wrapper>\n  </>)\n}\n\nexport default VolunteersPanel","/* eslint-disable camelcase */\nimport React, { useContext, useEffect, useState } from 'react'\nimport { useHistory, useRouteMatch } from 'react-router-dom'\n// import styled from 'styled-components'\n// import Select from 'react-select'\n\nimport { AppContext } from '../../App'\n\nimport { getSingleCampaign, addCampaignNotice, deleteCampaignNotice } from '../../lib/api'\nimport { selectMenu } from '../../lib/helper'\n\nimport Show from './Show'\nimport CampaignInfo from './CampaignInfo'\nimport NoticeBoard from '../elements/NoticeBoard'\nimport CampaignChats from './CampaignChats'\nimport VolunteersPanel from './VolunteersPanel'\nimport ChatControl from '../elements/ChatControl'\n\nimport Button from '../elements/Button'\n\nconst CampaignShow = () => {\n\n  const app = useContext(AppContext)\n\n  const history = useHistory()\n  const match = useRouteMatch()\n\n  const address = match.params.section || 'about'\n\n  const [campaignData, setCampaignData] = useState()\n  const [rooms, setRooms] = useState([])\n  const [isAdmin, setIsAdmin] = useState(null)\n  const [noticeInput, setNoticeInput] = useState('')\n\n  const [sections, setSections] = useState([\n    ['about', ''], 'notices', 'chats', 'members', 'admin'\n  ])\n\n  const getCampaign = async () => {\n    try {\n      const { data } = await getSingleCampaign(match.params.id)\n\n      const { message_rooms, owner, coordinators } = data\n\n      // This should be filtered on the backend for privacy\n      setRooms(message_rooms\n        ?.filter(({ members }) => members.includes(app.user)) || [])\n    \n      // TODO BACKEND This could be set from backend using permission levels\n      const userIsAdmin = [owner.id, ...coordinators].includes(app.user)\n      setIsAdmin(userIsAdmin)\n\n      const userSections = userIsAdmin\n        ? [...sections]\n        : sections.filter(section => section !== 'admin')\n      \n      setSections(userSections)\n\n      if (!userSections.includes(address)) {\n        history.push(`/campaigns/${match.params.id}`)\n      }\n\n      setCampaignData(data)\n\n    } catch (err) {\n      console.error(err)\n      // history.goBack()\n    }\n  }\n\n  // onMount\n  useEffect(getCampaign, [])\n\n  const updateNoticeInput = event => {\n    setNoticeInput(event.target.value)\n  }\n\n  const postNotice = async event => {\n    event.preventDefault()\n    try {\n      const newNotice = {\n        text: noticeInput,\n        campaign: campaignData.id\n      }\n      const { data } = await addCampaignNotice(newNotice)\n      // TODO BACKEND return full owner info in response\n      const notices = [...campaignData.campaign_notices, data]\n      setNoticeInput('')\n      setCampaignData({ ...campaignData, campaign_notices: notices })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const deleteNotice = async event => {\n    try {\n      const noticeID = Number(event.target.id)\n      await deleteCampaignNotice(noticeID)\n      const notices = campaignData.campaign_notices.filter(({ id }) => id !== noticeID)\n      setCampaignData({ ...campaignData, campaign_notices: notices })\n    } catch (err) {\n      console.log(err.response.data)\n    }\n  }\n\n  const editCampaign = () => {\n    history.push(`/campaigns/${match.params.id}/edit`)\n  }\n\n  const changeSection = ({ value }) => {\n    history.push(`/campaigns/${match.params.id}/${value}`)\n  }\n\n  const menu = {\n    options: sections.map(selectMenu),\n    value: selectMenu(address),\n    onChange: changeSection\n  }\n\n  useEffect(getCampaign, [app])\n\n\n  if (!campaignData) return null\n\n  return <>\n    <Show title={campaignData.name} menu={menu}>\n\n      {{ // switch on address value\n\n        about:\n          <CampaignInfo campaignData={campaignData} />,\n\n        notices:\n          <NoticeBoard campaignData={campaignData} isAdmin={isAdmin} deleteNotice={deleteNotice} />,\n\n        members:\n          <VolunteersPanel updateData={getCampaign} campaignData={campaignData} isAdmin={isAdmin} />,\n\n        chats:\n          <CampaignChats rooms={rooms} />,\n\n        admin:\n          <Button onClick={editCampaign}>edit campaign</Button>\n\n      }[address]}\n\n      {/* {address === 'about' &&\n        campaignData.description.split('\\n').map((para, i) => <p key={i}>{para}</p>)}\n\n      {address === 'notices' &&\n        <NoticeBoard campaignData={campaignData} isAdmin={isAdmin} deleteNotice={deleteNotice} />}\n\n      {address === 'members' &&\n        <VolunteersPanel campaignData={campaignData} isAdmin={isAdmin} />}\n\n      {address === 'chats' &&\n        rooms.map((room, i) => <RoomCard key={i} room={room} />)}\n\n      {address === 'admin' &&\n        <Button onClick={editCampaign}>edit campaign</Button>} */}\n\n    </Show>\n\n    {address === 'notices' &&\n      <div style={{ position: 'absolute', bottom: 0, zIndex: 5, width: '100%', paddingLeft: '10px', paddingRight: '13px' }}>\n        <ChatControl value={noticeInput} handleChange={updateNoticeInput} send={postNotice} />\n      </div>\n    }\n  </>\n}\n\nexport default CampaignShow","/* eslint-disable camelcase */\nimport React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { useHistory, useParams } from 'react-router-dom'\n\nimport Show from './Show'\n\nimport InputText from '../elements/InputText'\nimport InputArea from '../elements/InputArea'\nimport Button from '../elements/Button'\nimport Geocoder from '../map/Geocoder'\nimport Map from '../map/Map'\n\nimport { createCampaign, getSingleCampaign, updateCampaign } from '../../lib/api' \nimport { reverseGeoCode } from '../../lib/mapbox'\n\n\nconst Form = styled.div`\n  > * { margin-top: 10px; }\n`\n\nconst MapContain = styled.div`\n  position: relative;\n  height: calc(90vw - 40px);\n  max-height: 500px;\n  margin: 10px auto 20px;\n  overflow: hidden;\n`\n\n// let mapRef\nlet geocoderRef\n\nconst CampaignForm = () => {\n\n  const history = useHistory()\n  const params = useParams()\n\n  const [formData, setFormData] = useState({\n    name: '',\n    volunteer_count: '',\n    description: '',\n    latitude: '',\n    longitude: '',\n    start_date: ''\n  })\n  const [campaignLocation, setCampaignLocation] = useState('')\n  const [flyTo, setFlyTo] = useState(null)\n  const [isEdit, setIsEdit] = useState(false)\n\n  // Returns valid string for date picker input\n  const formatDate = date => date.split(':').slice(0, 2).join(':')\n\n\n  useEffect(() => {\n    // Prevents page loading if not logged in\n    if (!localStorage.getItem('id')) history.push('/campaigns')\n    \n    // Pull data for edit\n    if (params.id) loadData()\n    // Or set date picker to current date\n    else setFormData({ ...formData, start_date: formatDate(new Date().toISOString()) })\n  }, [])\n\n  const loadData = async () => {\n    try {\n      const { data } = await getSingleCampaign(params.id)\n\n      // Construct formData from relevant fields\n      const editFormData = [\n        'name',\n        'volunteer_count',\n        'description',\n        'banner_image',\n        'latitude',\n        'longitude'\n      ].reduce((obj, prop) => ({ ...obj, [prop]: data[prop] }), {})\n\n      // Correct date format for date picker\n      editFormData.start_date = formatDate(data.start_date)\n      // Get owner id\n      editFormData.owner = data.owner.id\n\n      setFormData(editFormData)\n\n      // Get location name from mapbox api\n      const { latitude, longitude } = data\n      const geo = await reverseGeoCode({ latitude, longitude })\n      setCampaignLocation(geo.data.features[0].place_name)\n\n      setFlyTo({ latitude, longitude, zoom: 4 })\n      setIsEdit(true)\n\n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  // const setMapRef = ref => mapRef = ref\n\n  const setGeocoderRef = ref => geocoderRef = ref\n\n  // onSelect Geocoder results item\n  const flyToLocation = location => {\n\n    setFormData({\n      ...formData,\n      latitude: location.latitude,\n      longitude: location.longitude\n    })\n\n    setFlyTo(location)\n  }\n\n  const onGeocoderSelect = item => {\n    setTimeout(() => setCampaignLocation(item.place_name), 1)\n  }\n\n  const updateGeocoderInput = event => {\n    setCampaignLocation(event.target.value)\n    // TODO bug check this\n    setTimeout(() => geocoderRef.focus(), 1)\n  }\n\n  const updateControlledInput = event => {\n    setFormData({\n      ...formData,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  const handleSubmit = async () => {\n    try {\n      const response = isEdit\n        ? await updateCampaign(params.id, formData)\n        : await createCampaign(formData)\n      history.push(`/campaigns/${response.data.id}`)\n    } catch (err) {\n      console.log(err.response.data)\n    }\n  }\n\n  const showImagePicker = () => {\n    const widget = window.cloudinary.createUploadWidget(\n      { \n        cloudName: 'dmhj1vjdf',\n        uploadPreset: 'jisx4gi0',\n        showUploadMoreButton: false\n      },\n      (error, result) => {\n        if (result?.event === 'success') { \n          setFormData({ ...formData, banner_image: result.info.url })\n        }\n      }\n    )\n    widget.open()\n  }\n\n\n  const { name, volunteer_count, description, start_date, banner_image } = formData\n\n  const action = {\n    label: 'save campaign',\n    click: handleSubmit\n  }\n\n  return (\n\n    <Show title={isEdit ? 'edit campaign' : 'new campaign'} banner={banner_image} action={action}>\n\n      <Form>\n        <InputText label='Give your campaign a name' name='name' value={name} returnValue={updateControlledInput} />\n        <Button onClick={showImagePicker}>pick banner image</Button>\n        <InputArea label='Give your campaign a description' name='description' value={description} height=\"20rem\" returnValue={updateControlledInput} />\n        <InputText label='How many volunteers will you need?' name='volunteer_count' value={volunteer_count} type='number' returnValue={updateControlledInput} />\n        <InputText label='When does your campaign start?' name='start_date' value={start_date} type='datetime-local' returnValue={updateControlledInput} />\n\n        <Geocoder\n          flyToLocation={flyToLocation}\n          onSelect={onGeocoderSelect}\n          onChange={updateGeocoderInput}\n          setRef={setGeocoderRef}\n          value={campaignLocation}\n        />\n\n        <MapContain>\n          {/* <Map setRef={setMapRef} flyTo={flyTo}/> */}\n          <Map flyTo={flyTo}/>\n        </MapContain>\n      </Form>\n\n    </Show>\n  )\n}\n\nexport default CampaignForm","import axios from 'axios'\n\nconst mapBoxGeoBase = 'https://api.mapbox.com/geocoding/v5/mapbox.places'\n\nexport const reverseGeoCode = location => {\n  return axios.get(`${mapBoxGeoBase}/${location.longitude},${location.latitude}.json?access_token=${process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}`)\n}","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.button`\n  display: block;\n  width: 100%;\n  border: none;\n  font-family: 'Open Sans', sans-serif;\n  background-color: ${props => props.theme.background};\n  border-radius: 4px;\n  line-height: 3rem;\n  padding: 0 15px;\n  margin: 5px 0;\n  transition: all 0.2s;\n  color: ${props => props.theme.text};\n\n  &:hover {\n    background-color: ${props => props.theme.shadow};\n  }\n`\n\nconst CampaignCard = ({ campaign, onClick }) => (\n  <Wrapper onClick={() => onClick(`/campaigns/${campaign.id}`)}>\n    {campaign.name}\n  </Wrapper>\n)\n\nexport default CampaignCard","import React from 'react'\nimport Select from 'react-select'\nimport styled, { ThemeContext } from 'styled-components'\n\nimport Schedule from '../elements/Schedule'\n\nimport styles from '../../lib/styles'\nimport icons from '../../lib/icons'\n\nconst EditProfile = styled.button`\n  position: absolute;\n  top: calc(3rem + 20px);\n  right: 10px;\n  width: 3rem;\n  border: none;\n  background-color: transparent;\n`\n\nconst Wrapper = styled.div`\n\n\n  p {\n    padding-left: 5px;\n  }\n`\n\nconst UserDetails = ({ editInfo, userData, userSkills, skills, schedule, editSkills, editSchedule }) => {\n\n  const theme = React.useContext(ThemeContext)\n\n  const [editMode, setEditMode] = React.useState(false)\n  \n  userSkills = userSkills.map(skill => ({ value: skill.id, label: skill.name }))\n\n  const userBio = userData.bio || 'Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eveniet provident qui necessitatibus fugiat beatae, sequi, alias fugit suscipit rerum facere eaque reprehenderit nostrum officia tenetur debitis natus tempore animi esse?'\n\n  return <Wrapper>\n    <EditProfile onClick={editInfo}>{icons.edit()}</EditProfile>\n    <p>About</p>\n    <p>{userBio}</p>\n    <p>Contact Info</p>\n    <p>{userData.email}</p>\n    <p>{userData.phone}</p>\n    <p>Skills</p>\n    <Select styles={styles.select(theme)} options={skills} value={userSkills} onChange={editSkills} isMulti />\n    <br/>\n    <p>Availability</p>\n    <Schedule schedule={schedule} handleClick={editSchedule} />\n  </Wrapper>\n}\n\nexport default UserDetails","/* eslint-disable camelcase */\nimport React, { useState, useEffect, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport { getSingleProfile, updateProfile, getAllSkills, updateProfileShifts, updateProfileSkills } from '../../lib/api'\nimport { AppContext } from '../../App'\n// import icons from '../../lib/icons'\n// import styles from '../../lib/styles'\nimport { update } from '../../lib/helper'\nimport { createWidget } from '../../lib/cloudinary'\n\n// import Button from '../elements/Button'\nimport Show from './Show'\nimport CampaignCard from '../elements/CampaignCard'\nimport UserDetails from './UserDetails'\n\nconst NewCampaign = styled.button`\n  position: relative;\n  top: -15px;\n  color: ${props => props.theme.text};\n  font-family: 'Open Sans', sans-serif;\n  float: right;\n  border: none;\n  background-color: transparent;\n`\nconst Profile  = () => {\n  \n  const app = useContext(AppContext)\n  const { userID, setNotification, logout } = app\n\n  const history = useHistory()\n\n  const [ userData, setUserData ] = useState(null)\n  const [ pendingUserData, setPendingUserData ] = useState(null)\n  const [ userCampaigns, setUserCampaigns ]  = useState([])\n  const [ skills, setSkills ] = useState(null)\n  const [ user_skills, setUserSkills ] = useState([])\n  const [ schedule, setSchedule ] = useState([])\n  const [ editMode, setEditMode ] = useState(false)\n  const [ section, setSection ] = useState({ label: 'profile', value: 'profile' })\n  \n  const getProfile = async () => {\n    const userID = localStorage.getItem('id')\n    const { data } = await getSingleProfile(userID)\n    \n    const userData = [\n      'username', 'first_name', 'last_name', 'email', 'phone', 'profile_image'\n    ].reduce((obj, prop) => ({ ...obj, [prop]: data[prop] }), {})\n    \n    const userCampaigns = [\n      'owned_campaigns', 'coord_campaigns', 'conf_campaigns'\n    ].reduce((arr, prop) => [...arr, ...data[prop]], [])\n    \n    const userShifts = data.user_shifts.reduce((arr, { id }) => [...arr, id], [])\n    const schedule = Array.from({ length: 14 }, (val, i) => userShifts.includes(++i))\n    \n    setUserData(userData)\n    setPendingUserData(userData)\n    setUserCampaigns(userCampaigns)\n    setUserSkills(data.user_skills)\n    setSchedule(schedule)\n  }\n  \n  const updateProfileImage = (url) => {\n    const newUserData = { ...pendingUserData, profile_image: url }\n    console.log(url)\n    setPendingUserData(newUserData)\n  }\n\n  const cloudinaryWidget = createWidget(updateProfileImage)\n  \n  const openCloudWidget = () => cloudinaryWidget.open()\n\n  const getSkills = async () => {\n    const { data } = await getAllSkills()\n    const skills = data.map(skill => ({ value: skill.id, label: skill.name }))\n    setSkills(skills)\n  }\n  \n  // componentDidMount\n  useEffect( () => {\n    getProfile()\n    getSkills()\n  }, [])\n  \n  const toggleEditMode = () => {\n    setEditMode(!editMode)\n    setPendingUserData(userData)\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  const handleEditProfile = (event) => {\n    setPendingUserData({ ...pendingUserData, [event.target.name]: event.target.value })\n  }\n  \n  // eslint-disable-next-line no-unused-vars\n  const saveProfile = async () => {\n    try {\n      await updateProfile(userID(), pendingUserData)\n      \n      setUserData(pendingUserData)\n      toggleEditMode()\n      \n      setNotification({ message: 'your profile has been updated' })\n      \n    } catch (err) {\n      setNotification({ message: err.response.data })\n    }\n  }\n  \n  const editSchedule = slot => {\n    const newSchedule = update(schedule, slot, !schedule[slot])\n    setSchedule(newSchedule)\n  }\n  \n  const editSkills = skills => {\n    const user_skills = \n    skills?.map(skill => ({ id: skill.value, name: skill.label })) || []\n    \n    setUserSkills(user_skills)\n  }\n  \n  // eslint-disable-next-line no-unused-vars\n  const saveSettings = async () => {\n    try {\n      // TODO BACKEND check if this works - does backend care if id is number or string\n      const userID = localStorage.getItem('user_id')\n      const skillIds = user_skills.map(skill => skill.id)\n  \n      await updateProfileShifts(userID, { schedule })\n      await updateProfileSkills(userID, { 'user_skills': skillIds })\n  \n      setNotification({ message: 'your preferences have been updated' })\n    } catch (err) {\n      setNotification({ message: 'there was an error updating your details' })\n    }\n  }\n\n  const changeSection = section => {\n    if (section.value === 'logout') logout()\n    else setSection(section)\n  }\n  \n  const menu = {\n    options: [\n      'profile', 'campaigns', 'settings', 'logout'\n    ].map(str => ({ label: str, value: str })),\n    value: section,\n    onChange: changeSection\n  }\n\n  if (!userData || !pendingUserData) return null\n\n  return (\n    <Show\n      title={`${userData.first_name} ${userData.last_name}`}\n      menu={menu}\n      banner={require('../../images/default_banner_profile.jpg')}\n      image={pendingUserData.profile_image}\n      // image={require('../../images/default_profile.png')}\n      imageLabel=\"change profile image\"\n      onImageClick={openCloudWidget}\n    >\n      {{\n\n        profile:\n          <UserDetails\n            editInfo={toggleEditMode}\n            userData={userData}\n            userSkills={user_skills}\n            skills={skills}\n            schedule={schedule}\n            editSkills={editSkills}\n            editSchedule={editSchedule}\n          />,\n\n        campaigns:\n          <>\n            <NewCampaign onClick={() => history.push('/campaigns/new')}>New Campaign</NewCampaign>\n\n            {userCampaigns.map((campaign, i) => (\n              <CampaignCard key={i} campaign={campaign} onClick={history.push} />))}\n          </>,\n\n        settings:\n          <>\n          </>\n      }[section.value]}\n    </Show>\n  )\n}\n\nexport default Profile","// pull out defaults and include arguments \n\nexport const createWidget = (onSuccess) => {\n  const widget = window.cloudinary.createUploadWidget(\n    { \n      cloudName: 'dmhj1vjdf',\n      uploadPreset: 'jisx4gi0',\n      showUploadMoreButton: false\n    },\n    (error, result) => {\n      if (result?.event === 'success') {\n        onSuccess(result.info.url)\n      }\n    }\n  )\n  return widget\n}","import React, { useEffect, useState } from 'react'\nimport { Switch, Route, useHistory } from 'react-router-dom'\nimport { ThemeProvider } from 'styled-components'\n\nimport styles from './lib/styles'\nimport { checkToken } from './lib/api'\n\nimport NavBar from './components/common/NavBar'\nimport Notification from './components/common/Notification'\n\n\nimport Home from './components/common/Home'\nimport Room from './components/common/Room'\nimport CampaignIndex from './components/common/CampaignIndex'\nimport CampaignShow from './components/common/CampaignShow'\nimport CampaignForm from './components/common/CampaignForm'\nimport Profile from './components/common/Profile'\n\nexport const AppContext = React.createContext()\n\nconst App = () => {\n\n  const history = useHistory()\n\n  const [theme, setTheme] = useState('light')\n  const [notification, setNotification] = useState({})\n  const [user, setUser] = useState(null)\n\n  const refreshToken = () => {\n    \n    if (!localStorage.getItem('token')) return\n\n    checkToken().then(\n      ({ data }) => {\n        setUser(data.user)\n        localStorage.setItem('token', data.token)\n      },\n      ({ response }) => {\n        if (response.status === 403) {\n          localStorage.removeItem('token')\n        }\n      }\n    )\n  }\n\n  useEffect(refreshToken, [])\n\n  const methods = {\n\n    setNotification,\n\n    changeTheme: () => setTheme(theme === 'light' ? 'dark' : 'light'),\n\n    userID: () => +localStorage.getItem('id'),\n    user,\n\n    login: (data) => {\n      setNotification({ message: data.message })\n      localStorage.setItem('token', data.token)\n      localStorage.setItem('id', data.id)\n      setUser(data.id)\n    },\n\n    logout: () => {\n      localStorage.clear()\n      history.push('/campaigns')\n      setUser(null)\n      setNotification({ message: 'Logged out successfully. Goodbye' })\n    }\n\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    console.warn('running in development')\n  }\n\n  return (\n    <AppContext.Provider value={methods}>\n      <ThemeProvider theme={styles.themes[theme]}>\n\n        <NavBar/>\n        <Notification notification={notification}/>\n\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/profile\" component={Profile} />\n          <Route path=\"/chat/:room\" component={Room} />\n          <Route path='/campaigns/new' component={CampaignForm} />\n          <Route path='/campaigns/:id/edit' component={CampaignForm} />\n          <Route path='/campaigns/:id/:section?' component={CampaignShow} />\n          <Route path='/campaigns' component={CampaignIndex} />\n        </Switch>\n\n      </ThemeProvider>\n    </AppContext.Provider>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nconst app = (\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n)\n\nReactDOM.render(app, document.getElementById('root'))"],"sourceRoot":""}